"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2871],{36363:function(e,t,n){n.r(t),n.d(t,{ChatBookmarks:function(){return ChatBookmarks}});var o=n(19745),i=n(80833),a=n(5217),l=n(20288),r=n(49055),s=n(2062),c=n(4005),d=n(56472),u=n(10185),h=n(15856);function ChatBookmarks(e){let{userId:t}=e,[n,m]=(0,i.useState)(!1),[f,p]=(0,i.useState)([]),[x,w]=(0,i.useState)(!1);(0,i.useEffect)(()=>{n&&loadBookmarks()},[n]);let loadBookmarks=async()=>{if(!t)return;w(!0);let e=await (0,r.St)(t);p(e),w(!1)},getSectionHeader=e=>{let t=new Date;t.setHours(0,0,0,0);let n=new Date(t.getTime()-864e5),o=new Date(t.getTime()-6048e5),i=new Date(t.getTime()-2592e6);return e>=t?"Today":e>=n?"Yesterday":e>=o?"Last 7 Days":e>=i?"Last 30 Days":"Previous"},g=f.reduce((e,t)=>{let n=null==t?void 0:t.createdAt,o=getSectionHeader(n);return e[o]||(e[o]=[]),e[o].push(t),e},{});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(l.z,{onClick:()=>{(0,h.X)(a.uS.other,"",{tag:"view-bookmarks"}),m(!0)},className:"h-10 w-full justify-start px-4 shadow-none transition-colors md:flex mobile-hide-item",variant:"outline",children:[(0,o.jsx)(u.plf,{className:"mr-2"}),(0,o.jsx)("span",{className:"md:flex",children:"Bookmarks"})]}),(0,o.jsxs)(d.m5,{open:n,onOpenChange:m,children:[(0,o.jsx)(d.sZ,{placeholder:"Search bookmarked chats..."}),(0,o.jsxs)(d.e8,{className:"custom-scrollbar h-[400px] overflow-y-auto",children:[!x&&(0,o.jsx)(d.rb,{children:"No bookmarked chats found."}),Object.keys(g).map((e,t)=>(0,o.jsx)(d.fu,{heading:e,children:g[e].map(e=>{var t,n,a;return(0,o.jsx)(i.Fragment,{children:(null==e?void 0:e.id)&&(null==e?void 0:e.title)&&(0,o.jsx)(d.di,{className:"cursor-pointer",value:null==e?void 0:e.id,onSelect:()=>{var t,n;let o="/chat/".concat(null==e?void 0:e.id);(null===(t=window.location.href)||void 0===t?void 0:t.includes("mobile"))?window.location.href="".concat(o,"?mobile=true"):(null===(n=window.location.href)||void 0===n?void 0:n.includes("vscode"))?window.location.href="".concat(o,"?vscode=true"):window.open("/chat/".concat(null==e?void 0:e.id))},children:(0,o.jsxs)("div",{className:"flex items-center w-full",children:[(0,o.jsx)("span",{children:null==e?void 0:e.title}),((null==e?void 0:e.workspaceIds)||(null==e?void 0:e.numberOfFiles)||(null==e?void 0:null===(t=e.messages)||void 0===t?void 0:t.some(e=>{var t;return null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.imagesData})))&&(0,o.jsx)(s.Z,{size:8,strokeWidth:.75,className:"ml-2 text-muted-foreground"}),(null==e?void 0:e.agentMode)&&(null==e?void 0:null===(n=e.agentMode)||void 0===n?void 0:n.name)&&(0,o.jsx)(c.C,{className:"ml-4 text-xs text-zinc-600 dark:text-white",variant:"secondary",children:null==e?void 0:null===(a=e.agentMode)||void 0===a?void 0:a.name})]})},null==e?void 0:e.id)},null==e?void 0:e.id)})},t)),x&&(0,o.jsx)("div",{className:"flex flex-col flex-1 px-4 space-y-4 overflow-auto",children:Array.from({length:1}).map((e,t)=>(0,o.jsx)("div",{className:"w-full h-6 rounded-md shrink-0 animate-pulse bg-zinc-200 dark:bg-zinc-800"},t))})]})]})]})}},28841:function(e,t,n){n.r(t),n.d(t,{CreateOrEditAgentButton:function(){return CreateOrEditAgentButton}});var o=n(19745),i=n(80833),a=n(5217),l=n(20288),r=n(56831),s=n(15856),c=n(3531),d=n(35883),u=n(23117),h=n(18993),m=n(80187),f=n(51268);n(33988);var p=n(9183),x=n.n(p),w=n(10185),g=n(51384),v=n(50149),j=n(69171),b=n(95128),k=n(86272),N=n(87327),y=n(93203),S=n(68491);function CreateOrEditAgentButton(e){var t,n;let{position:p="header",className:C,...I}=e;if(!(null===(t=window.location.href)||void 0===t?void 0:t.includes("/agent")))return(0,o.jsx)(o.Fragment,{});(0,c.usePathname)();let[T,A]=(0,i.useState)(!1),[E,z]=(0,i.useState)(!1),[O,F]=(0,i.useState)(""),[D,B]=(0,i.useState)(""),[P,L]=(0,i.useState)(""),[_,R]=(0,i.useState)(null),[M,U]=(0,i.useState)(!1),[X,V]=(0,i.useState)(""),[H,W]=(0,i.useState)(""),[q,Z]=(0,i.useState)(!0),[G,K]=(0,i.useState)(!1),[Y,J]=(0,i.useState)(!1),[$,Q]=(0,i.useState)("/chatbot-avatar.png"),[ee,et]=(0,i.useState)([]),[en,eo]=(0,i.useState)(!1),[ei,ea]=(0,i.useState)(null);window.location.href.includes("?mobile=true");let[el,er]=i.useState(!1),[es,ec]=(0,i.useState)(null),ed=(0,g.e)(),[eu,eh]=i.useState([""]);function getImageData(e){let t=new DataTransfer;Array.from(e.target.files).forEach(e=>t.items.add(e));let n=t.files;if(!n.length)return null;let o=URL.createObjectURL(e.target.files[0]);var i=new FileReader,a="";i.onloadend=function(){var e;(a=null===(e=i.result)||void 0===e?void 0:e.toString())&&Q(a)};let l=i.readAsDataURL(n[0]);return{files:n,displayUrl:o,base64:l}}eu.map((e,t)=>(0,o.jsx)(h.I,{value:e,className:"my-2",onChange:e=>{eh(n=>{let o=n.map((n,o)=>o===t?e.target.value:n);return o})},placeholder:"URL"},t));let em=(0,i.useRef)(null),ef=(0,i.useRef)(null),ep=window.location.href.includes("vscode")?localStorage.getItem("userId"):(0,g.e)();async function upsertAgent(e,t,n,o){let i=!(arguments.length>4)||void 0===arguments[4]||arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[],d=arguments.length>10?arguments[10]:void 0;try{return await fetch("/api/setagent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,name:t,sysprompt:n,userId:d,image:o,publishPreference:i,imagePrompt:a,rawUserSysPrompt:l,agentURLs:r,webSearch:s,inputFiles:c})}),""}catch(e){return console.log("upsertAgent: ",e),""}}async function handleSubmit(){K(!0);let e=O.split(" ").join("")+(0,a.x0)();ei&&en&&(e=ei);let t=O.length>0?O:e,n="";1===eu.length?n=eu[0]:eu.length>1&&(n=eu.join(";")),console.log({id:e,agentName:t,sysPrompt:D,behaviorImg:$,publishPreference:q,imagePrompt:X,rawUserSysPrompt:D,agentSources:n,webSearch:E,inputFiles:ee,userId:ep}),await upsertAgent(e,t,D,$,q,X,D,n,E,ee,ep),window.location.href="/agent/"+e+(window.location.href.includes("vscode")?"?vscode=true":"")}async function getAgent(e){let t=await (0,v.i)(ep),n=t.filter(t=>t.id===e);if(n.length>0){n=n[0],eo(!0),F(n.name),B(null==n?void 0:n.sysprompt);let e=null;n.agentURLs&&(n.agentURLs.includes(";")?e=n.agentURLs.split(";"):n.agentURLs.length>0&&(e=[n.agentURLs]),eh(e)),z(n.webSearch),Z(n.publishPreference),ea(n.id),(null==n?void 0:n.cover)&&Q(n.cover)}}async function improvePrompt(){J(!0),B(await (0,b.W)(D,"systemprompt")),J(!1),(0,s.X)("click improve prompt","",{})}async function generateImage(){let{data:e,status:t}=(0,k.kP)();(0,s.X)(a.uS.other,"",{tag:"agent-image"}),U(!0);let n=await fetch("/api/image-generator",{method:"POST",body:JSON.stringify({query:P,session:e})}).catch(e=>{throw e}),o=await n.json(),i=o.markdown,l=i.match(/!\[.*?\]\((.*?)\)/);Q(l[1]),l&&l[1]?console.log("Image URL:",l[1]):console.log("No URL found"),U(!1)}return(0,i.useEffect)(()=>{let e=null;window.location.href.includes("/agent/")&&window.location.href.split("/agent/")[1]&&(e=window.location.href.split("/agent/")[1]),e&&getAgent(e)},[window.location.href]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(f.Vq,{open:T,onOpenChange:A,children:[(0,o.jsx)(f.hg,{asChild:!0,children:(0,o.jsxs)(l.z,{id:"create-agent-header-button",onClick:()=>{(0,s.X)("Chat Request",ed,{tag:"click create agent",position:"sidenav"})},className:"mobile-hide-item ".concat("header"===p?"border-none justify-start px-4 transition-colors shadow-none ".concat((null===(n=window.location.href)||void 0===n?void 0:n.includes("/agent"))?"text-zinc-600 dark:text-white":"mobile-hide-item"):"h-10 w-full justify-start px-4 shadow-none transition-colors"),variant:"outline",children:["header"!==p&&(0,o.jsx)(w.uQz,{className:"mr-2"}),(0,o.jsxs)("span",{className:"text-sm text-zinc-600 !text-left dark:text-white hidden sm:block md:flex text-ellipsis whitespace-nowrap overflow-hidden",children:[!0===en?"Edit":"Create"," Agent"]}),(0,o.jsx)("span",{className:"sm:hidden",children:!0===en?"Edit":"Agent"})]})}),(0,o.jsxs)(f.cZ,{className:"max-h-screen overflow-y-auto",children:[(0,o.jsxs)(f.fK,{children:[(0,o.jsxs)(f.$N,{children:[en?"Update":"Create"," Your AI Agent"]}),(0,o.jsx)(f.Be,{children:"I am here to help you build your Personal AI Agent."})]}),(0,o.jsxs)("div",{className:"grid gap-3 py-1",children:[(0,o.jsx)(x(),{src:$,alt:"image",width:100,height:100,className:(0,a.cn)("chatbot-avatar h-auto w-auto object-cover transition-all hover:scale-105","aspect-[3/4]"),ref:em,onClick:()=>{ef&&ef.current&&ef.current.click()}}),(0,o.jsx)(h.I,{onChange:e=>{let t=getImageData(e);em.current&&t&&(em.current.src=t.base64,em.current.srcset=t.base64)},accept:"image/*",ref:ef,id:"picture",type:"file",style:{display:"none"}}),(0,o.jsxs)("div",{className:"grid gap-4",children:[(0,o.jsx)(u._,{htmlFor:"name",className:"flex",children:"Name"}),(0,o.jsx)(h.I,{value:O,id:"name",placeholder:"Agent Name",onChange:e=>{var t;return F(null===(t=e.target)||void 0===t?void 0:t.value)},className:"col-span-3 text-base"})]}),(0,o.jsxs)("div",{className:"grid items-center gap-4",children:[(0,o.jsx)(u._,{htmlFor:"username",className:"flex",children:"Profile Picture"}),(0,o.jsx)(h.I,{value:P,id:"profile-picture-agent",placeholder:"e.g. 'Elon Musk'",onChange:e=>{var t;return L(null===(t=e.target)||void 0===t?void 0:t.value)},className:"col-span-3 text-base"}),P&&(0,o.jsx)(l.z,{style:{marginTop:"0.3em"},type:"button",variant:"outline",onClick:generateImage,className:"w-fit shadow-none",children:M?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.vM,{}),(0,o.jsx)("span",{className:"ml-2 md:flex",children:"Generating"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(S.Z,{className:"mr-2",size:18,strokeWidth:1})," ","Generate Image"]})})]}),(0,o.jsxs)("div",{className:"grid items-center gap-4",children:[(0,o.jsx)(u._,{htmlFor:"username",className:"flex",children:"Instructions"}),(0,o.jsx)(j.g,{value:D,id:"username",placeholder:"e.g. 'you're an expert software engineer'",onChange:e=>{var t;return B(null===(t=e.target)||void 0===t?void 0:t.value)},className:"col-span-3 text-base"}),D&&(0,o.jsx)(l.z,{style:{marginTop:"0.3em"},type:"button",variant:"outline",onClick:improvePrompt,className:"w-fit",children:Y?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.vM,{}),(0,o.jsx)("span",{className:"ml-2 md:flex",children:"Generating"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(S.Z,{className:"mr-2",size:18,strokeWidth:1})," Improve Prompt"]})})]}),(0,o.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,o.jsx)(u._,{htmlFor:"username",className:"",children:"Publish to"}),(0,o.jsx)(m.E,{defaultValue:"public",children:(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)(m.m,{value:"public",id:"option-one"}),(0,o.jsx)(u._,{htmlFor:"option-one",onClick:()=>{Z(!0)},children:"Public"}),(0,o.jsx)(m.m,{value:"private",id:"option-two",onClick:()=>{Z(!1)}}),(0,o.jsx)(u._,{htmlFor:"option-two",children:"Private"})]})})]})]}),(0,o.jsxs)(f.cN,{className:"sm:justify-start",children:[(0,o.jsx)(l.z,{type:"button",variant:"default",onClick:handleSubmit,children:G?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.vM,{className:"mr-2"})," ",!0===en?"Updating":"Creating"," Agent"]}):(0,o.jsxs)(o.Fragment,{children:[!0===en?"Update":"Create"," Agent"]})}),ei&&(0,o.jsx)(l.z,{type:"button",variant:"outline",onClick:()=>{A(!1),er(!0)},children:"Delete Agent"})]})]})]}),(0,o.jsx)(y.aR,{open:el,onOpenChange:er,children:(0,o.jsxs)(y._T,{children:[(0,o.jsxs)(y.fY,{children:[(0,o.jsx)(y.f$,{children:"Are you absolutely sure?"}),(0,o.jsx)(y.yT,{children:"This will permanently delete your chat agent."})]}),(0,o.jsxs)(y.xo,{children:[(0,o.jsx)(y.le,{disabled:!1,children:"Cancel"}),(0,o.jsx)(y.OL,{disabled:!1,onClick:async e=>{e.preventDefault(),await (0,N.L)(ei),d.toast.success("Agent Deleted Successfully",{style:{borderRadius:"10px",background:"#333",color:"#fff",fontSize:"14px"},iconTheme:{primary:"white",secondary:"black"}}),er(!1),ec(null),setTimeout(()=>{window.location.href="/"},1e3)},children:"Delete"})]})]})})]})}},38261:function(e,t,n){n.r(t),n.d(t,{HeaderModelSelection:function(){return HeaderModelSelection},listOfModels:function(){return v}});var o=n(19745),i=n(80833),a=n(52882),l=n(52848),r=n(5217),s=n(20288),c=n(56472),d=n(87802),u=n(15856),h=n(86272),m=n(51268),f=n(33988),p=n(42730),x=n(65249),w=n(13475),g=n(56831);let v=[{value:"gpt-4o",label:"GPT-4o",icon:(0,o.jsx)(g.zx,{})},{value:"o1",label:"o1",icon:(0,o.jsx)(g.zx,{})},{value:"o3-mini",label:"o3-mini",icon:(0,o.jsx)(g.zx,{})},{value:"gemini-pro",label:"Gemini-Pro",icon:(0,o.jsx)(g.Fo,{})},{value:"claude-sonnet-3.7",label:"Claude-Sonnet-3.7",icon:(0,o.jsx)(g.KA,{})},{value:"deepseek-v3",label:"DeepSeek-V3",cover:"https://cdn.prod.website-files.com/650c3b59079d92475f37b68f/66f41a324f1d713df2cbfbf4_deepseek-logo.webp"},{value:"deepseek-r1",label:"DeepSeek-R1",cover:"https://cdn.prod.website-files.com/650c3b59079d92475f37b68f/66f41a324f1d713df2cbfbf4_deepseek-logo.webp"},{value:"meta-llama-3.3-70b-instruct-turbo",label:"Meta Llama 3.3 70B Instruct Turbo",cover:"https://cdn.prod.website-files.com/650c3b59079d92475f37b68f/66f41918314a4184b51788ed_meta-logo.png"},{value:"gemini-flash-2.0",label:"Gemini Flash 2.0",cover:"https://registry.npmmirror.com/@lobehub/icons-static-png/1.18.0/files/dark/google-color.png"},{value:"mistral-small-24b-instruct-2501",label:"Mistral Small (24B) Instruct 25.01",cover:"https://cdn.prod.website-files.com/650c3b59079d92475f37b68f/66f4197d83b94e540f009dc3_mistral-logo.webp"},{value:"deepseek-llm-chat-(67b)",label:"DeepSeek LLM Chat (67B)",cover:"https://cdn.prod.website-files.com/650c3b59079d92475f37b68f/66f41a324f1d713df2cbfbf4_deepseek-logo.webp"},{value:"dbrx-instruct",label:"DBRX Instruct",cover:"https://cdn.prod.website-files.com/650c3b59079d92475f37b68f/66f41a22506fc209003d5722_databricks-logo.webp"},{value:"qwen-qwq-32b-preview",label:"Qwen QwQ-32B-Preview",cover:"https://cdn.prod.website-files.com/650c3b59079d92475f37b68f/66f41a073403f9e2b7806f05_qwen-logo.webp"},{value:"nous-hermes-2-mixtral-8x7b-dpo",label:"Nous Hermes 2 - Mixtral 8x7B-DPO",cover:"https://cdn.prod.website-files.com/650c3b59079d92475f37b68f/66f419f202c64707fcabd6ac_nous-logo.webp"}],RenderImage=e=>{var t;let{framework:n}=e;return(0,o.jsx)(w.qE,{className:"mt-1",style:{maxWidth:"20px",maxHeight:"20px",marginRight:"5px",borderRadius:"50%"},children:(null==n?void 0:n.cover)?(0,o.jsx)(w.F$,{src:null==n?void 0:n.cover,alt:"",style:{maxWidth:"20px",maxHeight:"20px",marginLeft:"0px",borderRadius:"50%"},className:(0,r.cn)("h-4 w-auto object-cover transition-all hover:scale-105 aspect-square")}):(0,o.jsx)(o.Fragment,{children:(null==n?void 0:n.icon)?(0,o.jsx)(o.Fragment,{children:n.icon}):(0,o.jsx)(w.Q5,{children:null==n?void 0:null===(t=n.label)||void 0===t?void 0:t.charAt(0)})})})};function HeaderModelSelection(e){var t,n,w;let{session:g}=e;if((null===(t=window.location.href)||void 0===t?void 0:t.includes("/screenshot"))||(null===(n=window.location.href)||void 0===n?void 0:n.includes("?mobile=true"))||(null===(w=window.location.href)||void 0===w?void 0:w.includes("/builder")))return(0,o.jsx)(o.Fragment,{});let[j,b]=i.useState(!1),[k,N]=i.useState(!1),{checkSubscription:y,invalidateSubscriptionCache:S}=(0,x.v)();(0,i.useEffect)(()=>{window.location.href.includes("vscode")&&(v=v.slice(0,4))},[]);let[C,I]=(0,p.i)("model-selection","blackboxai",{listen:!1}),cacheChatToLocalStorage=e=>{localStorage.setItem("clicked_model_selection","1"),((null==e?void 0:e.includes("gpt"))||(null==e?void 0:e.includes("gemini"))||(null==e?void 0:e.includes("claude"))||(null==e?void 0:e.includes("o3-mini"))||(null==e?void 0:e.includes("o1")))&&localStorage.setItem("clicked_pro_model_v2",e)};async function handleModelSelect(e){if(!window.location.href.includes("vscode")&&!window.location.href.includes("mobile")){var t,n;let o=null==e?void 0:null===(t=e.toLocaleLowerCase())||void 0===t?void 0:t.includes("deepseek");if(!(null==g?void 0:g.user)){o||cacheChatToLocalStorage(e),(0,h.zB)("google");return}let i=await y(null==g?void 0:null===(n=g.user)||void 0===n?void 0:n.email),a="PREMIUM"===i.status;if(!a&&!o){S(),window.location.href=r.lh+"&source=header-model-pro";return}}if(I(e),b(!1),(0,u.X)("Other Engagement","",{tag:"header-selected-".concat(e)}),"blackboxai"===e||localStorage.getItem("clicked_other_models")||(localStorage.setItem("clicked_other_models","1"),(0,u.X)(r.uS.other,"",{tag:"clicked-invite-from-other-models",status:"opened-dialog"})),window.location.href.includes("model")){let t=window.location.href,n=null,o=null;if(window.location.href.includes("chat/")&&window.location.href.includes("?")&&(n=t.split("chat/")[1].split("?")[0]),window.location.href.split("model=")[1]&&(o=window.location.href.split("model=")[1]),o&&n){let t="/chat/".concat(n,"?model=").concat(e);window.location.href.includes("vscode")&&(t="/chat/".concat(n,"?model=").concat(e,"&vscode=true")),window.history.pushState("chat","",t)}}}function handleClickInvite(){(0,u.X)(r.uS.other,"",{tag:"clicked-invite-from-other-models",status:"clicked"});let e=(0,r.w$)(),t="https://mail.google.com/mail/u/0/?fs=1&su=".concat(encodeURIComponent(e.subject),"&body=").concat(encodeURIComponent(e.body),"&tf=cm");window.location.href.includes("vscode")?window.parent.postMessage({type:"open-link",link:t,id:(0,r.x0)()},"*"):window.open(t)}function handleModelSelectButton(){(0,u.X)("Other Engagement","",{tag:"Model-Selection"})}(0,i.useEffect)(()=>{let checkSubscriptionOnMount=async()=>{var e;await y(null==g?void 0:null===(e=g.user)||void 0===e?void 0:e.email)};I(""),localStorage.getItem("clicked_model_selection")&&(localStorage.removeItem("clicked_model_selection"),b(!0)),checkSubscriptionOnMount()},[]);let T=null==v?void 0:v.find(e=>(null==e?void 0:e.value)===C);return(0,o.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,o.jsxs)(d.J2,{open:j,onOpenChange:b,children:[(0,o.jsx)(d.xo,{asChild:!0,children:(0,o.jsxs)(s.z,{onClick:handleModelSelectButton,variant:"outline",role:"combobox","aria-expanded":j,className:"justify-between shadow-none border-none",title:null!=C?C:"",children:[!C&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"block sm:hidden",children:"MODELS"}),(0,o.jsx)("span",{className:"hidden sm:block md:hidden",children:"SELECT MODELS"}),(0,o.jsx)("span",{className:"hidden md:block",children:"SELECT MODELS"})]}),(null==T?void 0:T.label)&&(0,o.jsx)(RenderImage,{framework:T}),(0,o.jsx)("span",{className:"max-w-[150px] text-ellipsis overflow-hidden whitespace-nowrap",children:C?null==T?void 0:T.label:""}),(0,o.jsx)(a.Z,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,o.jsx)(d.yk,{className:"w-[200px] p-0",children:(0,o.jsx)(c.mY,{children:(0,o.jsxs)(c.e8,{children:[(0,o.jsx)(c.rb,{children:"No framework found."}),(0,o.jsx)(c.fu,{children:null==v?void 0:v.map(e=>(0,o.jsxs)(c.di,{value:e.value,onSelect:e=>{handleModelSelect(e)},className:"flex items",title:null==e?void 0:e.label,children:[(0,o.jsx)(l.Z,{className:(0,r.cn)("mr-2 h-4 min-w-4 max-w-4",C===(null==e?void 0:e.value)?"opacity-100":"opacity-0")}),(0,o.jsx)(RenderImage,{framework:e}),(0,o.jsx)("span",{className:"line-clamp-1 pr-2",children:null==e?void 0:e.label})]},e.value))})]})})})]}),(0,o.jsx)(m.Vq,{open:k,onOpenChange:N,children:(0,o.jsx)(m.cZ,{children:(0,o.jsxs)("div",{className:"border-none",children:[(0,o.jsxs)(f.Ol,{className:"space-y-1",children:[(0,o.jsx)("div",{className:"flex justify-center",children:(0,o.jsx)("h1",{style:{fontSize:"1.5rem"},className:"text-2xl font-bold text-ellipsis overflow-hidden whitespace-nowrap",children:"Invite & Get Started"})}),(0,o.jsx)(f.SZ,{children:"Enter your friends emails and get unlimited access"})]}),(0,o.jsx)(f.eW,{style:{display:"flex",flexDirection:"column",alignItems:"stretch"},children:(0,o.jsx)(s.z,{onClick:handleClickInvite,className:"w-full",children:"SEND INVITE"})})]})})})]})}},90220:function(e,t,n){n.r(t),n.d(t,{HeaderNavButtons:function(){return HeaderNavButtons}});var o=n(19745),i=n(9183),a=n.n(i),l=n(80833),r=n(86272),s=n(20288),c=n(40153),d=n(56831),u=n(83329),h=n.n(u),m=n(5217),f=n(65249);function getUserInitials(e){let[t,n]=e.split(" ");return n?"".concat(t[0]).concat(n[0]):t.slice(0,2)}function UserMenu(e){var t;let{user:n}=e,[i,u]=(0,l.useState)(!1),{checkSubscription:p,invalidateSubscriptionCache:x}=(0,f.v)();return(0,o.jsx)("div",{className:"flex items-center justify-between",children:(0,o.jsxs)(c.h_,{children:[(0,o.jsx)(c.$F,{asChild:!0,children:(0,o.jsx)(s.z,{variant:"ghost",className:"ml-1 px-0 mini-sm:px-2 py-0 sm:px-4 sm:py-2 sm:ml-0",children:(null==n?void 0:n.image)?(0,o.jsx)(a(),{className:"h-6 w-6 select-none rounded-full ring-1 ring-zinc-100/10 transition-opacity duration-300 hover:opacity-80",src:n.image,alt:null!==(t=n.name)&&void 0!==t?t:"Avatar",height:48,width:48,id:"loggedin-profile"}):(0,o.jsx)("div",{className:"flex h-7 w-7 shrink-0 select-none items-center justify-center rounded-full bg-muted/50 text-xs font-medium uppercase text-muted-foreground",children:(null==n?void 0:n.email)?getUserInitials(null==n?void 0:n.email):null})})}),(0,o.jsxs)(c.AW,{sideOffset:8,align:"start",className:"w-[180px]",children:[(0,o.jsxs)(c.Xi,{className:"flex-col items-start",children:[(0,o.jsx)("div",{className:"text-xs font-medium",children:null==n?void 0:n.name}),(0,o.jsx)("div",{className:"text-xs text-zinc-500",children:null==n?void 0:n.email})]}),(0,o.jsx)(c.VD,{}),(0,o.jsx)(c.Xi,{asChild:!0,className:"text-xs",children:(0,o.jsx)(h(),{href:"/",children:"Chat"})}),(null==n?void 0:n.email)&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(c.Xi,{onClick:async()=>{let e=await p(null==n?void 0:n.email),t="PREMIUM"===e.status;if(t){let t="vscode://".concat("blackboxapp",".").concat("blackboxagent","/?paymentSuccess=true&customerEmail=").concat(null==n?void 0:n.email,"&customerId=").concat(e.customerId);window.open(t)}else{x(),window.open(m.lh+"&source=connect-vscode");return}},className:"text-xs",children:"Connect To VSCode"})}),(0,o.jsx)(c.Xi,{asChild:!0,className:"text-xs",children:(0,o.jsx)(h(),{href:"/manage-subscriptions",children:"Manage Subscriptions"})}),(0,o.jsxs)(c.Xi,{onClick:e=>{null==e||e.preventDefault(),u(!0),setTimeout(async()=>{x();let e=await p(null==n?void 0:n.email);e.status,u(!1)},1e3)},className:"text-xs flex items-center gap-2",children:["Refresh Subscription Status",i&&(0,o.jsx)(d.tx,{})]}),(0,o.jsx)(c.Xi,{onClick:()=>{let e=(0,m.DV)();window.open(e.gmailLink)},className:"text-xs",children:"Support"}),(0,o.jsx)(c.Xi,{onClick:()=>{(0,m.DV)(),window.open("/pricing")},className:"text-xs",children:"Pricing"}),(0,o.jsx)(c.Xi,{onClick:()=>{x(),(0,r.w7)({redirect:!0,callbackUrl:"/"})},className:"text-xs",children:"Log Out"})]})]})})}var p=n(10185),x=n(74454);function NewChatMobileButton(e){var t,n,i,a,l,r;let{text:c="",showNewChatIcon:d=!0,className:u,...h}=e;if((null===(t=window.location.href)||void 0===t?void 0:t.includes("/room"))||(null===(n=window.location.href)||void 0===n?void 0:n.includes("/builder")))return(0,o.jsx)(o.Fragment,{});let m=window.matchMedia("(max-width: 768px)").matches;if((null===(i=window.location.href)||void 0===i?void 0:i.includes("/screenshot"))&&!m)return(0,o.jsx)(o.Fragment,{});let f=(null===(a=window.location.href)||void 0===a?void 0:a.includes("/agent"))||(null===(l=window.location.href)||void 0===l?void 0:l.includes("/room"))?"Home":"New";return window.location.href===(null===(r=window.location)||void 0===r?void 0:r.origin)+"/"?(0,o.jsx)(o.Fragment,{}):(0,o.jsxs)(s.z,{className:"border-none shadow-none ".concat((window.location.href.includes("vscode"),"")),onClick:e=>{var t,n,o,i,a,l;let r=new URLSearchParams(null===(t=window.location)||void 0===t?void 0:t.search),s=r.get("mobile"),c=r.get("chrome"),d=r.get("vscode");if(window.location.href.includes(x._.id)&&(window.location.href=window.location.href),window.location.href.includes("/screenshot")){window.location.href="/screenshot";return}if(s)window.location.href=(null===(n=window.location)||void 0===n?void 0:n.origin)+"/?mobile=true";else if(c)window.history.pushState("chat","","/?chrome=true&frameurl=1");else if(d)try{let e=null;(null===(o=window.location.href)||void 0===o?void 0:o.includes("version="))&&(null==(e=window.location.href.split("version=")[1])?void 0:e.includes("&"))&&(e=e.split("&")[0]),window.location.href=(null===(i=window.location)||void 0===i?void 0:i.origin)+"/?vscode=true"+(e?"&version="+e:"")}catch(e){console.error(e)}else window.location.href.includes("/editor")?window.history.pushState("chat","",window.location.href.split(null===(a=window.location)||void 0===a?void 0:a.origin)[1]):window.location.href=null===(l=window.location)||void 0===l?void 0:l.origin},variant:"outline",children:["New"===f&&(0,o.jsx)(p.pOD,{className:"md:block hidden"}),(0,o.jsx)("span",{className:"hidden md:block ml-2 text-ellipsis whitespace-nowrap overflow-hidden font-normal text-sm text-zinc-600 !text-left dark:text-white",children:f}),(0,o.jsx)("span",{className:"block md:hidden text-ellipsis whitespace-nowrap overflow-hidden font-normal text-sm text-zinc-600 !text-left dark:text-white",children:f})]})}var w=n(15856),g=n(51384);function VscodeButton(e){let{position:t="header",text:n="",showNewChatIcon:i=!0,className:a,...l}=e,r=(0,g.e)(),c=window.location.href.includes("vscode=");return window.location.href.includes("/screenshot")||window.location.href.includes("room")?(0,o.jsx)(o.Fragment,{}):(0,o.jsxs)(o.Fragment,{children:[c&&(0,o.jsx)(o.Fragment,{}),!c&&(0,o.jsx)(o.Fragment,{children:"header"===t?(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(s.z,{className:"mobile-hide-item",variant:"default",onClick:()=>{(0,w.X)("Other Engagement",r,{tag:"vscode",position:t}),window.open("https://marketplace.visualstudio.com/items?itemName=Blackboxapp.blackbox")},children:[(0,o.jsx)(d.DI,{}),(0,o.jsx)("span",{className:"hidden ml-2 md:flex text-ellipsis whitespace-nowrap overflow-hidden",children:"VSCode"})]})}):(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(s.z,{onClick:()=>{(0,w.X)("Other Engagement",r,{tag:"vscode",position:t}),window.open("https://marketplace.visualstudio.com/items?itemName=Blackboxapp.blackbox")},className:"h-10 w-full justify-start bg-zinc-50 px-4 shadow-none transition-colors hover:bg-zinc-200/40 dark:bg-zinc-900 dark:hover:bg-zinc-300/10 ".concat(i?"md:flex":"hidden md:flex"),variant:"outline",children:[(0,o.jsx)(d.DI,{className:"-translate-x-2 stroke-2"}),(0,o.jsx)("span",{className:"ml-2 md:flex",children:"VSCode"})]})})})]})}var v=n(2184),j=n(51268),b=n(2416),k=n(24961),N=n(3531),y=n(91658);function ChromeNotificationDialog(){if(!window.location.href.includes("tag")||window.innerWidth<768)return(0,o.jsx)(o.Fragment,{});let[e,t]=(0,l.useState)(!1),[n,i]=(0,l.useState)(""),a=(0,N.useSearchParams)();return(0,l.useEffect)(()=>{let e=null==a?void 0:a.get("tag");if("chromenotification"===e){t(!0);let e="",n=null==a?void 0:a.get("content");n&&(e+=" ".concat(n,"\n\n"));let o=null==a?void 0:a.get("videoId");o&&(e+="[YouTube Video](https://www.youtube.com/watch?v=".concat(o,")\n\n")),i(e)}},[a]),(0,o.jsx)(j.Vq,{open:e,onOpenChange:t,children:(0,o.jsx)(j.cZ,{className:"ml-12 mr-12 max-w-[60vw] mx-auto h-[90vh] overflow-y-auto",children:(0,o.jsx)("div",{className:"fixed group w-full overflow-auto pl-0 animate-in duration-300 ease-in-out",style:{height:"-webkit-fill-available"},children:(0,o.jsx)("div",{className:"px-20% mx-auto",style:{width:"80%"},children:(0,o.jsx)(y.MemoizedReactMarkdown,{className:"px-6 mt-16 prose break-words dark:prose-invert prose-p:leading-relaxed prose-pre:p-0 fix-max-with-100",components:{a(e){let{children:t,href:n}=e;if(n.includes("youtube.com")){let e=n.split("v=")[1];return(0,o.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(e,"?controls=0"),width:"100%",height:"460",allowFullScreen:!0,style:{borderRadius:"10px"}})}return n.includes("type=button")&&n.includes("button-text")?(0,o.jsx)(s.z,{className:"block mx-auto py-0",onClick:()=>{window.open(n)},size:"lg",children:decodeURIComponent(null==n?void 0:n.split("button-text=")[1])}):(0,o.jsx)("a",{href:n,style:{cursor:"pointer",color:"rgb(50, 134, 255, 1)",textDecoration:"none"},children:t})},p(e){let{children:t}=e;return(0,o.jsx)("p",{className:"mb-2 last:mb-0",children:t})},h2(e){let{children:t,...n}=e,i=null==t?void 0:t.toString().toLowerCase().replace(/\s+/g,"-");return(0,o.jsx)("h2",{id:i,...n,children:t})},h3(e){let{children:t,...n}=e,i=null==t?void 0:t.toString().toLowerCase().replace(/\s+/g,"-");return(0,o.jsx)("h3",{id:i,...n,children:t})}},children:n})})})})})}function UpgradeVscodeAgent(e){let{upgradeVscodeConnect:t,setUpgradeVscodeConnect:n}=e;return window.location.href.includes("stripeRedirect")?(0,o.jsx)(j.Vq,{open:t,onOpenChange:n,children:(0,o.jsxs)(j.cZ,{className:"sm:max-w-[625px]",children:[(0,o.jsxs)(j.fK,{children:[(0,o.jsx)(j.$N,{children:"CLICK BELOW TO CONNECT TO VSCODE"}),(0,o.jsx)(j.Be,{children:(0,o.jsxs)(j.Be,{className:"mt-4",children:["You can link your pro account to vscode by clicking the button below.",(0,o.jsx)("div",{className:"flex justify-center py-4",children:(0,o.jsx)("div",{className:"w-full max-w-3xl aspect-video",children:(0,o.jsx)("iframe",{src:"https://www.youtube.com/embed/Vt_HWVHu2Ic",className:"w-full h-full rounded-xl shadow-lg",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})]})})]}),(0,o.jsx)(s.z,{size:"lg",onClick:()=>{let e="";window.location.href.includes("stripeRedirect")&&(e=decodeURIComponent(e=window.location.href.split("stripeRedirect=")[1]),window.open(e))},type:"submit",className:"w-full",children:"CLICK TO CONNECT TO VSCODE"})]})}):(0,o.jsx)(o.Fragment,{})}function datesAreOnSameDay(e,t){let n=e.getFullYear()===t.getFullYear();if(!n)return!1;let o=e.getMonth()===t.getMonth();if(!o)return!1;let i=e.getDate()===t.getDate();return i}function isNextDay(e,t){let n=new Date(e.getTime());return n.setDate(n.getDate()+1),datesAreOnSameDay(t,n)}let S=[{label:"Personal",teams:[{label:"Personal",value:"personal"}]},{label:"Teams",teams:[]}];function Tracker(){var e,t;let n=(0,g.e)(),{loadToken:i}=(0,k.Z)(),[a,r]=(0,b._)("appOpens",[]),[s,c]=(0,l.useState)(!1),d=JSON.parse(JSON.stringify(S)),[u,h]=(0,b._)("groups",d),[m,f]=(0,b._)("is_beast_mode",!1),p=(0,l.useRef)(!1);(0,l.useEffect)(()=>{var e,t,o,l,s,u,m;if((null===(e=window.location.href)||void 0===e?void 0:e.includes("stripeRedirect"))&&c(!0),!p.current&&window.location.href&&!window.location.href.includes("vscode")){let e={tag:"web"},a="direct";(null===(t=document)||void 0===t?void 0:t.referrer)&&(a=null===(u=document)||void 0===u?void 0:u.referrer),e.referrer=a;let r=new URLSearchParams(null===(o=window.location)||void 0===o?void 0:o.search);if(r.get("tag")&&(null===(l=r.get("tag"))||void 0===l?void 0:l.length)<50&&(e.from=r.get("tag")),window.location.href.includes("mobile")&&(e.from="mobile"),(0,w.X)("page visit",n,e),(null===(s=localStorage)||void 0===s?void 0:s.getItem("model-selection"))&&(null===(m=localStorage)||void 0===m||m.removeItem("model-selection")),window.innerWidth>768)try{let e=navigator.userAgent.includes("Edg"),t=navigator.userAgent.includes("Chrome"),n=-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome");!t||e||n||i()}catch(e){console.error("Error loading token:",e)}}p.current=!0;let f=new Date;if(0===a.length){r([f]),h(d);return}let x=new Date(a.slice(-1)[0]),g=datesAreOnSameDay(f,x);if(g)return;let v=isNextDay(x,f);if(v){r([...a,f]);return}r([f]),localStorage.getItem("is_beast_mode")&&localStorage.removeItem("is_beast_mode")},[a]);let[x,N]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{var e;if(null===(e=window.location.href)||void 0===e?void 0:e.includes("showPricing")){let e="true"===new URLSearchParams(window.location.search).get("showPricing");N(e)}},[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ChromeNotificationDialog,{}),(null===(e=window.location.href)||void 0===e?void 0:e.includes("stripeRedirect"))&&(0,o.jsx)(UpgradeVscodeAgent,{upgradeVscodeConnect:s,setUpgradeVscodeConnect:c}),(null===(t=window.location.href)||void 0===t?void 0:t.includes("showPricing"))&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(j.Vq,{open:x,onOpenChange:N,children:(0,o.jsx)(j.cZ,{className:"ml-12 mr-12 max-w-[60vw] mx-auto h-[90vh] overflow-y-auto",children:(0,o.jsx)(v.PricingOptions,{})})})})]})}var C=n(35883);function InviteButton(e){let{position:t="header",text:n="",showNewChatIcon:i=!0,setSuccessfullEmailInviteSent:a,className:r,...c}=e;if(!window.location.href.includes("/screenshot"))return(0,o.jsx)(o.Fragment,{});(0,g.e)();let[d,u]=l.useState(""),[h,f]=l.useState(!1);return(0,o.jsxs)(o.Fragment,{children:[window.location.href.includes("screenshot/")&&(0,o.jsxs)(s.z,{className:"mobile-hide-item shadow-none border-none",variant:"outline",onClick:()=>{navigator.clipboard.writeText("".concat(window.location.href,"?share=true").toString()),C.toast.success("Share link copied to clipboard",{style:{borderRadius:"10px",background:"#333",color:"#fff",fontSize:"14px"},iconTheme:{primary:"white",secondary:"black"}})},children:[(0,o.jsx)(p.n9J,{className:"text-zinc-600 dark:text-white"}),(0,o.jsx)("span",{className:"text-zinc-600 dark:text-white ml-2 md:flex",children:"Publish"})]}),window.location.href.includes("screenshot/")&&(0,o.jsxs)(s.z,{className:"mobile-hide-item shadow-none border-none",variant:"outline",onClick:()=>{navigator.clipboard.writeText("".concat(window.location.href).toString()),C.toast.success("Share link copied to clipboard",{style:{borderRadius:"10px",background:"#333",color:"#fff",fontSize:"14px"},iconTheme:{primary:"white",secondary:"black"}})},children:[(0,o.jsx)(p.eA8,{className:"text-zinc-600 dark:text-white"}),(0,o.jsx)("span",{className:(0,m.cn)("ml-2","hidden sm:flex","md:flex text-zinc-600 dark:text-white"),children:"Share"})]})]})}var I=n(57944),T=n(56472),A=n(85947),E=n.n(A),z=n(25308),O=n(50654);function ImageToCodeButton(e){var t,n;let{className:i,session:a,...c}=e;if(window.location.href.includes("/screenshot")||window.location.href.includes("mobile")||window.location.href.includes("room")||window.location.href.includes("/agent")||(null===(t=window.location.href)||void 0===t?void 0:t.includes("/builder"))||window.location.href.includes(x._.id)||(null===(n=window)||void 0===n?void 0:n.innerWidth)<500)return(0,o.jsx)(o.Fragment,{});let d=(0,g.e)(),{checkSubscription:u,invalidateSubscriptionCache:h}=(0,f.v)(),[p,v]=l.useState(!1),[b,k]=(0,l.useState)(!1),[N,y]=(0,l.useState)(!1),[S,C]=(0,l.useState)(!1),[A,F]=(0,l.useState)([]),getVscodeServerUrl=e=>{let t=localStorage.getItem("vscodeserver:".concat(e)),n=t?JSON.parse(t):null;return n},loadCyberCoderData=async()=>{let e=await (0,g.e)(),t=await getVscodeServerUrl(e);if(t&&t[e]){let n=t[e].sort((e,t)=>t.createdAt-e.createdAt);F(n)}};(0,l.useEffect)(()=>{b&&loadCyberCoderData()},[b]);let D=(0,l.useCallback)(e=>{try{window.location.href=e}catch(t){console.error(t),window.location.href=e}},[]),cacheChatToLocalStorage=()=>{localStorage.setItem("clicked_create_web_ide","1")};(0,l.useEffect)(()=>{localStorage.getItem("clicked_create_web_ide")&&(y(!0),localStorage.removeItem("clicked_create_web_ide")),async function(){var e,t;let n=(null===(e=window)||void 0===e?void 0:e.innerWidth)>500;if(!n||!localStorage.getItem("clicked_app_builder_v3"))return;if(null===(t=window.location.href)||void 0===t?void 0:t.includes("clickedBackUpgrade")){localStorage.removeItem("clicked_app_builder_v3");return}if(!(null==a?void 0:a.user))return;let o=await u(null==a?void 0:a.user.email),i="PREMIUM"===o.status&&(null==o?void 0:o.customerId);if(i){localStorage.removeItem("clicked_app_builder_v3"),C(!0);return}!i&&(h(),window.location.href=m.lh+"&source=app-builder")}()},[]);let createNewVsCodeSpace=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"vscode";if(!document.getElementById("loggedin-profile")){(0,z.o)("Sign in required."),cacheChatToLocalStorage(),(0,r.zB)("google");return}try{let e=await u(null==a?void 0:a.user.email),t="PREMIUM"===e.status;if(!t){cacheChatToLocalStorage(),h(),window.location.href=m.lh+"&source=web-vscode";return}}catch(e){console.error("Error checking subscription:",e),(0,z.o)("Error checking subscription status");return}if(k(!1),(0,w.X)(m.uS.other,d,{tag:"web-ide",type:e}),"jupyter"!==e){window.open("https://www.youcode.ai");return}v(!0);let t=localStorage.getItem("vscodeserver:".concat(d));try{var n=new Headers;n.append("Content-Type","application/json");var o=JSON.stringify({type:e,userVsCodeStr:t});let i=await fetch("/api/create-vscode",{method:"POST",headers:n,body:o,redirect:"follow"});if(null==(i=await i.json())||!i.url)return{status:"fail"};{let e=null==i?void 0:i.url;D(e);let t={[i.name]:{id:i.name,createdAt:i.createdAt,url:e,name:i.name},id:i.id};return(0,I.saveWebVSCodes)(t,i.name),v(!1),{status:"success"}}}catch(e){return console.log("error",e),v(!1),{status:"fail"}}};async function handleClickWebIDE(){var e;if(!(null==a?void 0:a.user)){(0,z.o)("Sign in required."),(0,r.zB)("google");return}let t=await u(null==a?void 0:null===(e=a.user)||void 0===e?void 0:e.email),n="PREMIUM"===t.status&&(null==t?void 0:t.customerId);if(!n){h(),window.location.href=m.lh+"&source=web-ide";return}(0,O.O)().then(e=>{if(y(!1),null==e?void 0:e.url){window.location.href="".concat(e.url,"&prompt=").concat(encodeURIComponent(""),"&customerId=").concat(null==t?void 0:t.customerId);return}})}return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.z,{className:(0,m.cn)("text-ellipsis whitespace-nowrap overflow-hidden shadow-none"),onClick:async()=>{(0,w.X)("Other Engagement",d,{tag:"clicked-app-builder"}),window.open("/builder")},variant:"outline",children:(0,o.jsx)("span",{className:"",children:"App Builder"})}),(0,o.jsxs)(T.m5,{open:b,onOpenChange:k,children:[(0,o.jsx)(T.sZ,{placeholder:"Search VSCode workspaces..."}),(0,o.jsxs)(T.e8,{className:"custom-scrollbar h-[400px] overflow-y-auto",children:[(0,o.jsx)(T.rb,{}),p?(0,o.jsx)("div",{className:"flex flex-col flex-1 px-4 space-y-4 overflow-auto",children:Array.from({length:2}).map((e,t)=>(0,o.jsx)("div",{className:"w-full h-6 rounded-md shrink-0 animate-pulse bg-zinc-200 dark:bg-zinc-800"},t))}):(0,o.jsx)(T.fu,{heading:"",children:A.map(e=>(0,o.jsx)(T.di,{className:"cursor-pointer",onSelect:()=>{D(e.url),k(!1)},children:(0,o.jsxs)("div",{className:"flex flex-col",children:[(0,o.jsx)("span",{children:e.name||"Unnamed Workspace"}),(0,o.jsx)("span",{className:"text-sm text-gray-500",children:E()(Number(e.createdAt)).format("MMM Do YYYY, h:mm a")})]})},e.id))})]}),(0,o.jsxs)("div",{className:"p-4 bg-white dark:bg-background",children:[(0,o.jsx)(s.z,{variant:"outline",className:"w-full h-82 shadow-none",onClick:()=>{createNewVsCodeSpace()},children:"AI Web Editor"}),(0,o.jsx)(s.z,{variant:"outline",className:"w-full h-82 shadow-none mt-4",onClick:()=>{createNewVsCodeSpace("jupyter")},children:"Jupyter Agent"})]})]}),(0,o.jsx)(j.Vq,{open:N,onOpenChange:y,children:(0,o.jsxs)(j.cZ,{className:"sm:max-w-[625px]",children:[(0,o.jsxs)(j.fK,{children:[(0,o.jsx)(j.$N,{children:"AI Agent with Code Execution"}),(0,o.jsx)(j.Be,{children:(0,o.jsxs)(j.Be,{className:"mt-4",children:["Open your code in the new virtual machine! You can write new code, edit it, run it and deploy it. It's also saved for you to view later. Here are the benefits:",(0,o.jsx)("div",{className:"flex justify-center py-4",children:(0,o.jsx)("div",{className:"w-full max-w-3xl aspect-video",children:(0,o.jsx)("iframe",{src:"https://www.youtube.com/embed/Vt_HWVHu2Ic",className:"w-full h-full rounded-xl shadow-lg",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}),(0,o.jsxs)("ul",{className:"mt-6",children:[(0,o.jsx)("li",{children:"1. Default 4CPU, 8GB Ram, 20G SSD"}),(0,o.jsx)("li",{children:"2. Continue from this code and edit it"}),(0,o.jsx)("li",{children:"3. Access BLACKBOXAI Agent"}),(0,o.jsx)("li",{children:"4. Run it"}),(0,o.jsx)("li",{children:"5. Deploy it"}),(0,o.jsxs)("li",{children:["6. View it later ",(0,o.jsx)("a",{className:"underline",href:"/apps",target:"_blank",rel:"noopener noreferrer",children:"here"})]})]})]})})]}),(0,o.jsx)(s.z,{onClick:handleClickWebIDE,type:"submit",className:"w-full",children:"VSCode + BLACKBOXAI Agent"}),(0,o.jsx)(s.z,{variant:"secondary",onClick:()=>{createNewVsCodeSpace("jupyter"),y(!1)},type:"submit",className:"w-full shadow-none",children:"Jupyter + BLACKBOXAI Agent"})]})}),(0,o.jsx)(j.Vq,{open:S,onOpenChange:C,children:(0,o.jsxs)(j.cZ,{className:"sm:max-w-[625px]",children:[(0,o.jsxs)(j.fK,{children:[(0,o.jsx)(j.$N,{children:"AI App Builder"}),(0,o.jsx)(j.Be,{className:"mt-4",children:"Build complete apps with BLACKBOXAI Agents. The Front End agent lets you build the complete interface and functionality of your app. The Full-stack agent lets you build the complete app backend and front end."})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-md font-semibold leading-none tracking-tight",children:"Front End Agent"}),(0,o.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"Best for building build fast interfaces by uploading an image or just text description."}),(0,o.jsx)(s.z,{onClick:()=>{(0,w.X)(m.uS.other,"",{tag:"click-frontend"}),window.location.href="/screenshot",C(!1)},type:"submit",variant:"outline",className:"mt-4 w-full ",children:"Open Front End Agent"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-md font-semibold leading-none tracking-tight",children:"Full-stack Agent"}),(0,o.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"Best for building complete apps with a backend and frontend."}),(0,o.jsx)(s.z,{onClick:()=>{(0,w.X)(m.uS.other,"",{tag:"click-backend"}),window.open("/builder"),C(!1)},type:"submit",variant:"outline",className:"mt-4 w-full ",children:"Open Full Stack Agent"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-md font-semibold leading-none tracking-tight",children:"History"}),(0,o.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"Visualise your all full stack builder history."}),(0,o.jsx)(s.z,{onClick:()=>{(0,w.X)(m.uS.other,"",{tag:"click-history"}),window.open("/apps"),C(!1)},type:"submit",variant:"outline",className:"mt-4 w-full ",children:"Open Full Stack History"})]})]})})]})}var F=n(83292),D=n(16058);function HeaderThemeButton(){return window.location.href.includes("vscode")?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(D.ThemeToggle,{})}):(0,o.jsx)(o.Fragment,{})}var B=n(266);let getDeviceType=()=>{let e=window.navigator.userAgent.toLowerCase();return/android/.test(e)?"android":/iphone|ipad|ipod/.test(e)?"ios":"unknown"};function DownloadAppButton(e){var t;let{session:n,isLoggedIn:i,isPremiumUser:a,...c}=e,[u,h]=l.useState("unknown"),[p,g]=(0,l.useState)(!1),[v,b]=(0,l.useState)(!1),{checkSubscription:k,invalidateSubscriptionCache:N}=(0,f.v)(),cacheChatToLocalStorage=()=>{localStorage.setItem("clicked_app_builder_mobile","1")};function initiate_vscode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t&&e&&(0,O.O)().then(o=>{(null==o?void 0:o.url)&&(window.location.href="".concat(o.url,"&prompt=").concat(encodeURIComponent(e),"&customerId=").concat(t).concat(n))})}return(l.useEffect(()=>{h(getDeviceType())},[]),l.useEffect(()=>{(async function(){var e;if(!(null==n?void 0:n.user)||!localStorage.getItem("clicked_app_builder_mobile"))return;if(null===(e=window.location.href)||void 0===e?void 0:e.includes("clickedBackUpgrade")){localStorage.removeItem("clicked_app_builder_mobile");return}localStorage.removeItem("clicked_app_builder_mobile");let t=await k(null==n?void 0:n.user.email),o="PREMIUM"===t.status&&(null==t?void 0:t.customerId);if(o){initiate_vscode(" ","123","");return}!o&&(cacheChatToLocalStorage(),N(),window.location.href=m.lh+"&source=app-builder")})()},[n]),window.location.href.includes("/screenshot")||window.location.href.includes("room")||window.location.href.includes("vscode")||window.location.href.includes("/agent")||window.location.href.includes(x._.id)||window.location.href.includes("mobile")||"unknown"===u)?(0,o.jsx)(o.Fragment,{}):(0,o.jsxs)(o.Fragment,{children:[window.location.href===(null===(t=window.location)||void 0===t?void 0:t.origin)+"/"&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.z,{className:"border-none shadow-none text-sm block md:hidden",onClick:()=>{(0,w.X)(m.uS.other,"",{tag:"click-app-builder"}),g(!0)},variant:"ghost",children:(0,o.jsx)("span",{className:"block md:hidden text-ellipsis whitespace-nowrap overflow-hidden",children:"Builder"})}),(0,o.jsx)(j.Vq,{open:p,onOpenChange:g,children:(0,o.jsxs)(j.cZ,{className:"sm:max-w-[625px]",children:[(0,o.jsxs)(j.fK,{children:[(0,o.jsx)(j.$N,{children:"AI App Builder"}),(0,o.jsx)(j.Be,{className:"mt-4",children:"Build complete apps with BLACKBOXAI Agents. The Front End agent lets you build the complete interface and functionality of your app. The Full-stack agent lets you build the complete app backend and front end."})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-md font-semibold leading-none tracking-tight",children:"Front End Agent"}),(0,o.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"Best for building build fast interfaces by uploading an image or just text description."}),(0,o.jsx)(s.z,{onClick:()=>{(0,w.X)(m.uS.other,"",{tag:"click-frontend"}),window.location.href="/screenshot",g(!1)},type:"submit",variant:"outline",className:"mt-4 w-full ",children:"Open Front End Agent"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-md font-semibold leading-none tracking-tight",children:"Full-stack Agent"}),(0,o.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"Best for building complete apps with a backend and frontend."}),(0,o.jsxs)(s.z,{onClick:async()=>{if((0,w.X)(m.uS.other,"",{tag:"click-backend"}),!(null==n?void 0:n.user)){(0,z.o)("Sign in required."),cacheChatToLocalStorage(),(0,r.zB)("google");return}try{let e=await k(null==n?void 0:n.user.email),t="PREMIUM"===e.status&&(null==e?void 0:e.customerId);if(!t){N(),window.location.href=m.lh+"&source=mobile-builder";return}b(!0),(0,O.O)().then(t=>{if(b(!1),null==t?void 0:t.url){let n=(null==e?void 0:e.customerId)?"&customerId=".concat(e.customerId):"";window.location.href="".concat(t.url,"&prompt=").concat(encodeURIComponent("")).concat(n)}})}catch(e){console.error("Error checking subscription:",e),(0,z.o)("Error checking subscription status");return}},type:"submit",variant:"outline",className:"mt-4 w-full ",children:[v&&(0,o.jsx)(d.tx,{}),(0,o.jsx)("span",{className:v?"ml-2":"",children:"Open Full Stack Agent"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-md font-semibold leading-none tracking-tight",children:"History"}),(0,o.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"Visualise your all full stack builder history."}),(0,o.jsx)(s.z,{onClick:()=>{(0,w.X)(m.uS.other,"",{tag:"click-history"}),window.open("/apps"),g(!1)},type:"submit",variant:"outline",className:"mt-4 w-full ",children:"Open Full Stack History"})]})]})})]}),(0,o.jsx)(s.z,{className:"border-none shadow-none text-sm dark:text-black text-white px-2 md:hidden flex items-center",onClick:()=>{(0,w.X)(m.uS.other,"",{tag:"download-app-button-clicked",device:u}),window.open({android:"https://play.google.com/store/apps/details?id=com.blackbox.blackboxapp",ios:"https://apps.apple.com/ca/app/blackboxai/id6740283751",unknown:"https://apps.apple.com/ca/app/blackboxai/id6740283751"}[u])},variant:"default",children:(0,o.jsx)("span",{className:"block md:hidden text-ellipsis whitespace-nowrap overflow-hidden",children:"Get App"})})]})}var edit_agent_button=()=>{var e;let{push:t}=(0,N.useRouter)(),n=(0,g.e)(),i=(0,N.useParams)(),a=null==i?void 0:i.id;return(0,o.jsxs)(s.z,{id:"edit-agent-header-button",onClick:()=>{(0,w.X)("Chat Request",n,{tag:"click edit agent",position:"sidenav"}),t("/agent/".concat(a,"/edit"))},className:"border-none justify-start px-4 transition-colors shadow-none ".concat((null===(e=window.location.href)||void 0===e?void 0:e.includes("/agent"))?"text-zinc-600 dark:text-white":"mobile-hide-item"),variant:"outline",children:[(0,o.jsx)("span",{className:"text-sm text-zinc-600 !text-left dark:text-white hidden sm:block md:flex text-ellipsis whitespace-nowrap overflow-hidden",children:"Edit Agent"}),(0,o.jsx)("span",{className:"sm:hidden -m-3",children:"Agent"})]})};function HomeButton(){var e,t,n;return(null===(e=window.location.href)||void 0===e?void 0:e.includes("?mobile=true"))||(null===(t=window.location.href)||void 0===t?void 0:t.includes("agent/create/new"))||window.location.href===window.location.origin+"/"||(null===(n=window.location.href)||void 0===n?void 0:n.includes("/chat/"))?(0,o.jsx)(o.Fragment,{}):(0,o.jsx)(s.z,{className:"border-none shadow-none mobile-hide-item",onClick:()=>{(0,w.X)("Other Engagement","",{tag:"clicked-about"}),window.location.href="/"},variant:"outline",children:(0,o.jsx)("span",{className:"md:flex text-ellipsis whitespace-nowrap overflow-hidden text-sm text-zinc-600 !text-left dark:text-white",children:"Home"})})}function EmailLoginHeader(){var e,t;return(null===(e=window.location.href)||void 0===e?void 0:e.includes("mobile=true"))||(null===(t=window)||void 0===t?void 0:t.innerWidth)<500?(0,o.jsx)(o.Fragment,{}):(0,o.jsx)(s.z,{variant:"outline",onClick:()=>{(0,w.X)("Other Engagement","",{tag:"clicked-about"}),window.location.href="/signup"},className:(0,m.cn)("text-ellipsis whitespace-nowrap overflow-hidden shadow-none"),children:(0,o.jsx)("span",{className:"",children:"Email Login"})})}function HeaderNavButtons(){var e,t,n,i,a;let s=(0,B.G)(),{data:c,status:d}=(0,r.kP)(),[u,h]=(0,l.useState)(!0),m=(0,N.usePathname)(),[f,p]=(0,l.useState)("");(0,l.useEffect)(()=>{"loading"!==d&&h(!1)},[d]),(0,l.useEffect)(()=>{var e;p(null===(e=window.location)||void 0===e?void 0:e.pathname);let handleUrlChange=()=>{var e;p(null===(e=window.location)||void 0===e?void 0:e.pathname)};window.addEventListener("popstate",handleUrlChange);let t=window.history.pushState;return window.history.pushState=function(){t.apply(this,arguments),handleUrlChange()},()=>{window.removeEventListener("popstate",handleUrlChange),window.history.pushState=t}},[m]);let x=!!("authenticated"===d&&c.user),w=(0,l.useMemo)(()=>s&&s<=B.a.sm&&!(null==f?void 0:f.includes("/chat/"))&&!x,[s,x,f]);return(0,o.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,o.jsx)(Tracker,{}),(0,o.jsx)(HeaderThemeButton,{}),!u&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(InviteButton,{position:"header"}),w?(0,o.jsxs)(o.Fragment,{children:[((null===(e=window.location.href)||void 0===e?void 0:e.includes("/agent"))||(null===(t=window.location.href)||void 0===t?void 0:t.includes("/screenshot")))&&(0,o.jsx)(NewChatMobileButton,{}),(0,o.jsx)(F.T,{text:"Login"})]}):(0,o.jsx)(NewChatMobileButton,{}),(0,o.jsx)(HomeButton,{}),(0,o.jsx)(ImageToCodeButton,{session:c}),(null===(n=window.location.href)||void 0===n?void 0:n.includes("/agent/"))&&!((null===(i=window.location.href)||void 0===i?void 0:i.includes("/new"))||(null===(a=window.location.href)||void 0===a?void 0:a.includes("/edit")))&&(0,o.jsx)(edit_agent_button,{}),(0,o.jsx)(VscodeButton,{}),(0,o.jsx)(DownloadAppButton,{session:c}),x?(0,o.jsx)("div",{className:"flex items-center ml-2",children:(0,o.jsx)(UserMenu,{user:c.user})}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(EmailLoginHeader,{}),(0,o.jsx)(F.T,{className:"mobile-hide-item",text:"Login with Google"})]})]})]})}},86064:function(e,t,n){n.r(t),n.d(t,{ImageToAppSidenavButton:function(){return ImageToAppSidenavButton}});var o=n(19745);n(80833);var i=n(20288),a=n(15856),l=n(51384),r=n(10185);function ImageToAppSidenavButton(e){let{position:t="header",text:n="",showNewChatIcon:s=!0,className:c,...d}=e,u=(0,l.e)();return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(i.z,{onClick:()=>{var e;(0,a.X)("Other Engagement",u,{tag:"image_toapp_sidenav"});let t="";if(window.location.href.includes("mobile")&&(t="?mobile=true"),window.location.href.includes("vscode")){window.location.href="/screenshot"+t+"?vscode=true";return}let n="/screenshot"+t;if(!(null===(e=window.location.href)||void 0===e?void 0:e.includes("mobile=true"))){window.open(n);return}window.location.href=n},className:"h-10 w-full justify-start bg-zinc-50 px-4 shadow-none transition-colors hover:bg-zinc-200/40 dark:bg-bgDarkMain dark:hover:bg-accent ".concat(s?"md:flex":"hidden md:flex"),variant:"outline",children:[(0,o.jsx)(r.dNJ,{className:""}),(0,o.jsx)("span",{className:"ml-2 md:flex",children:"Image To App"})]})})}},48506:function(e,t,n){n.d(t,{P:function(){return LocalStorageProvider},_:function(){return useLocalStorage}});var o=n(19745),i=n(80833);let a=(0,i.createContext)(null),LocalStorageProvider=e=>{let{children:t}=e,[n,l]=(0,i.useState)(0);return(0,i.useEffect)(()=>{let handleStorageChange=e=>{e.storageArea===localStorage&&l(e=>e+1)};return window.addEventListener("storage",handleStorageChange),()=>{window.removeEventListener("storage",handleStorageChange)}},[]),(0,o.jsx)(a.Provider,{value:{getItem:e=>localStorage.getItem(e),setItem:(e,t)=>{localStorage.setItem(e,t),l(e=>e+1)},removeItem:e=>{localStorage.removeItem(e),l(e=>e+1)},storageVersion:n},children:t})},useLocalStorage=()=>{let e=(0,i.useContext)(a);if(!e)throw Error("useLocalStorage must be used within a LocalStorageProvider");return e}},83292:function(e,t,n){n.d(t,{T:function(){return LoginButton}});var o=n(19745),i=n(80833),a=n(86272),l=n(5217),r=n(20288),s=n(56831),c=n(3531),d=n(15856),u=n(51384),h=n(34364);let getDeviceType=()=>{let e=window.navigator.userAgent.toLowerCase();return/android/.test(e)?"android":/iphone|ipad|ipod/.test(e)?"ios":"unknown"};function LoginButton(e){var t;let{text:n="Continue with Google",showGithubIcon:m=!0,className:f,...p}=e;if(null===(t=window.location.href)||void 0===t?void 0:t.includes("mobile"))return(0,o.jsx)(o.Fragment,{});let[x,w]=i.useState(!1),g=(0,u.e)(),v=(0,c.useSearchParams)(),cacheChatToLocalStorage=e=>{localStorage.setItem("clicked_join_new_room",e)};function verifyIfLoginFromRoomSharedLink(){if(window.location.href.includes("next=")&&window.location.href.includes("/chat/")){let e=window.location.href.split("/chat/")[1];cacheChatToLocalStorage(e)}}let j=v&&(null==v?void 0:v.get("mobile"))||"false",b=window.location.href.includes("frameurl="),k=window.location.href.includes("vscode="),N=(0,h.ac)({query:"(min-width: 768px)"}),[y,S]=i.useState("unknown");return(i.useEffect(()=>{S(getDeviceType())},[]),"unknown"!==y)?(0,o.jsx)(o.Fragment,{}):(0,o.jsx)(o.Fragment,{children:"true"!==j&&!b&&!k&&(0,o.jsxs)(r.z,{variant:N?"outline":"default",onClick:()=>{w(!0),verifyIfLoginFromRoomSharedLink(),(0,a.zB)("google"),(0,d.X)("Other Engagement",g,{tag:"signup",position:"header"})},disabled:x,className:(0,l.cn)("text-ellipsis whitespace-nowrap overflow-hidden shadow-none",f),...p,children:[x?(0,o.jsx)(s.vM,{className:"mr-2 animate-spin"}):m?(0,o.jsx)(s.vY,{className:"mobile-hide-item mr-2"}):null,(0,o.jsx)("span",{className:"hidden sm:block md:flex",children:n}),(0,o.jsx)("span",{className:"sm:hidden",children:"Login"})]})})}},81622:function(e,t,n){n.r(t),n.d(t,{NewChatButton:function(){return NewChatButton}});var o=n(19745);n(80833);var i=n(20288),a=n(56831),l=n(15856),r=n(51384);function NewChatButton(e){let{text:t="",showNewChatIcon:n=!0,className:s,...c}=e,d=(0,r.e)(),u=window.location.href.includes("vscode=");return u?(0,o.jsx)(o.Fragment,{}):(0,o.jsxs)(i.z,{onClick:()=>{(0,l.X)("Other Engagement",d,{tag:"newchat",position:"sidenav"}),window.location.href.includes("mobile=")?window.location.href="/?mobile=true":window.location.href.includes("vscode=")?window.location.href="/?vscode=true":window.location.href="/"},className:"h-10 w-full justify-start bg-zinc-50 px-4 shadow-none transition-colors hover:bg-zinc-200/40 dark:bg-bgDarkMain dark:hover:bg-accent ".concat(n?"md:flex":"hidden md:flex"),variant:"outline",children:[(0,o.jsx)(a.eE,{className:"-translate-x-2 stroke-2"}),(0,o.jsx)("span",{className:"ml-2 md:flex",children:"New Chat"})]})}},2184:function(e,t,n){n.r(t),n.d(t,{PricingOptions:function(){return PricingOptions}});var o=n(19745);n(80833);var i=n(20288),a=n(5217),l=n(10185),r=n(65249),s=n(86272),c=n(15856);function PricingCards(e){let{tiers:t,className:n,containerClassName:d,cardClassName:u,sectionClassName:h,...m}=e,{checkSubscription:f,subscriptionCache:p,invalidateSubscriptionCache:x}=(0,r.v)(),{data:w}=(0,s.kP)();return(0,o.jsx)("section",{className:(0,a.cn)("text-foreground w-full",h),children:(0,o.jsx)("div",{className:(0,a.cn)("max-w-5xl mx-auto px-4",d),...m,children:(0,o.jsx)("div",{className:(0,a.cn)("grid grid-cols-1 md:grid-cols-2 gap-8","max-w-4xl mx-auto",n),children:t.map(e=>(0,o.jsx)("div",{className:(0,a.cn)("relative flex flex-col","rounded-2xl transition-all duration-500",e.highlight?"bg-gradient-to-b from-neutral-950 to-neutral-900 dark:from-neutral-900 dark:to-neutral-950":"bg-white dark:bg-neutral-900","border border-neutral-200 dark:border-neutral-800","hover:border-neutral-300 dark:hover:border-neutral-700","hover:shadow-[0_8px_40px_-12px_rgba(0,0,0,0.1)] dark:hover:shadow-[0_8px_40px_-12px_rgba(0,0,0,0.3)]",u),children:(0,o.jsxs)("div",{className:"p-8 flex flex-col h-full",children:[(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsx)("h3",{className:(0,a.cn)("text-lg font-medium",e.highlight?"text-white":"text-neutral-900 dark:text-white"),children:e.name}),(0,o.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,o.jsx)("span",{className:(0,a.cn)("text-4xl font-semibold",e.highlight?"text-white":"text-neutral-900 dark:text-white"),children:e.priceDisplay||"$".concat(e.price)}),e.interval&&(0,o.jsxs)("span",{className:(0,a.cn)("text-sm",e.highlight?"text-neutral-400":"text-neutral-500 dark:text-neutral-400"),children:["/",e.interval.toLowerCase()]})]}),(0,o.jsx)("p",{className:(0,a.cn)("text-sm pb-6 border-b",e.highlight?"text-neutral-400 border-neutral-800":"text-neutral-500 dark:text-neutral-400 border-neutral-200 dark:border-neutral-800"),children:e.description})]}),e.cta&&(0,o.jsx)("div",{className:"mt-8",children:(0,o.jsx)(i.z,{className:(0,a.cn)("w-full h-12",e.highlight?"bg-background hover:bg-background text-black dark:text-white":"bg-neutral-900 hover:bg-neutral-800 text-white dark:bg-white dark:hover:bg-neutral-100 dark:text-neutral-900","transition-all duration-300"),onClick:e.cta.onClick,asChild:!!e.cta.href,children:(0,o.jsx)("div",{className:"cursor-pointer",onClick:()=>{var t,n,o;if(!(null==w?void 0:w.user)){(0,s.zB)("google");return}(null==p?void 0:p.status)==="PREMIUM"?(null==e?void 0:null===(t=e.cta)||void 0===t?void 0:t.text)==="Continue with PRO"?((0,c.X)(a.uS.other,"",{tag:"pricing-popup-click",type:"continue-pro"}),window.location.href="/"):window.open("/manage-subscriptions"):(null==e?void 0:null===(n=e.cta)||void 0===n?void 0:n.text)==="Continue with PRO"?window.location.href=a.lh+"&source=pricing-popup":(null==e?void 0:null===(o=e.cta)||void 0===o?void 0:o.text)==="Get PRO"?window.location.href=a.lh+"&source=pricing-popup":window.location.href="/"},children:(0,o.jsx)("span",{children:e.cta.text})})})}),(0,o.jsx)("div",{className:"mt-8 space-y-4 flex-grow",children:e.features.map(t=>(0,o.jsxs)("div",{className:"flex items-start gap-3",children:[(0,o.jsx)("div",{className:(0,a.cn)("flex-shrink-0 w-5 h-5 rounded-full flex items-center justify-center mt-0.5",t.included?e.highlight?"text-white":"text-neutral-900 dark:text-white":"text-neutral-300 dark:text-neutral-700"),children:(0,o.jsx)(l.nQG,{className:"w-3.5 h-3.5"})}),(0,o.jsx)("span",{className:(0,a.cn)("text-sm",e.highlight?"text-neutral-300":"text-neutral-600 dark:text-neutral-300"),children:t.name})]},t.name))})]})},e.name))})})})}let d=[{name:"Standard",price:0,priceDisplay:"Free",description:"Start for free, no credit card needed.",features:[{name:"Unlimited free searches",included:!0},{name:"3 Pro searches per day",included:!0},{name:"Fast free AI model",included:!0},{name:"Upload 3 files per day",included:!0}],cta:{text:"Continue with Free",href:"#"}},{name:"Professional",price:39,priceDisplay:"$39.99",interval:"Monthly",description:"Unlock the full capabilities of BLACKBOXAI",highlight:!0,features:[{name:"Unlimited free searches",included:!0},{name:"Unlimited Pro searches per day",included:!0},{name:"Choose a any AI Model: pick from OpenAI o3-mini, GPT-4o, o1, Deepseek R1, V3, Anthropic Claude 3.5 Sonnet, and more",included:!0},{name:"AI Coding Agent PRO Models ",included:!0},{name:"Unlimited Coding Agent BLACKBOX Base MODEL",included:!0},{name:"0 Data Retention",included:!0}],cta:{text:"Get PRO",href:"#"}}];function PricingOptions(){var e;let{checkSubscription:t,subscriptionCache:n,invalidateSubscriptionCache:i}=(0,r.v)();return(null==n?void 0:n.status)==="PREMIUM"&&(null==n?void 0:null===(e=n.customerId)||void 0===e?void 0:e.startsWith("cus_"))&&(d[1].cta.text="Continue with PRO"),(0,o.jsxs)("div",{className:"flex flex-col items-center",children:[(0,o.jsxs)("div",{className:"text-center mb-12",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"BLACKBOXAI PRO"}),(0,o.jsx)("p",{className:"text-md text-neutral-600 dark:text-neutral-400",children:"Unlock the full capabilities of BLACKBOXAI and enjoy new perks as they are added."})]}),(0,o.jsx)(PricingCards,{tiers:d})]})}},88980:function(e,t,n){n.r(t),n.d(t,{RoboCoder:function(){return RoboCoder}});var o=n(19745),i=n(80833),a=n(20288),l=n(56831);n(15856);var r=n(51384),s=n(10185);let c={robocoder:"robocoder"};var d=n(51268),u=n(33988),h=n(18993),m=n(35883);function UpgradeOrInvite(e){let{inviteDialog:t,setinviteDialog:n,from:l}=e;(0,r.e)();let[c,f]=(0,i.useState)([""]),p={robocoder:"https://www.robocoders.ai",runcode:"https://www.runcode.ai"},handleKeyDown=e=>{"Enter"===e.key&&handleClickSendInvite()},x=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,validateEmail=e=>x.test(e.toLowerCase());function sendEmailInvite(e){fetch("/api/invite",{method:"POST",body:JSON.stringify({emails:e})})}function handleClickSendInvite(){let e=c.filter(e=>""!==e);if(e.length<4)m.toast.error("Minimum 4 emails required",{style:{borderRadius:"10px",background:"#333",color:"#fff",fontSize:"14px"},iconTheme:{primary:"white",secondary:"black"}});else{let t=Array.from(new Set(e));if(t.length<4)m.toast.error("All emails must be unique",{style:{borderRadius:"10px",background:"#333",color:"#fff",fontSize:"14px"},iconTheme:{primary:"white",secondary:"black"}});else{let e=!0;t.forEach(t=>{if(!validateEmail(t)){m.toast.error("use a verified email"),e=!1;return}}),e&&(sendEmailInvite(t),f([""]),n(!1),m.toast.success("Invite Sent",{style:{borderRadius:"10px",background:"#333",color:"#fff",fontSize:"14px"},iconTheme:{primary:"white",secondary:"black"}}),setTimeout(()=>{window.open(p[l])},1e3))}}}return(0,o.jsx)(d.Vq,{open:t,onOpenChange:n,children:(0,o.jsx)(d.cZ,{className:"sm:max-w-[825px] overflow-y-auto",children:(0,o.jsxs)("div",{className:"border-none",children:[(0,o.jsxs)(u.Ol,{className:"space-y-1",children:[(0,o.jsx)(u.ll,{className:"text-2xl",children:"Invite & Get Started"}),(0,o.jsx)(u.SZ,{children:"Enter your friends emails and get started"}),(0,o.jsx)("iframe",{width:"100%",height:"290px",src:"robocoder"===l?"https://www.youtube.com/embed/9wVcEIEZpJQ":"https://www.youtube.com/embed/w3jYvbUXUzQ",allowFullScreen:!0,style:{borderRadius:"10px",maxHeight:"70vh"}})]}),(0,o.jsxs)(u.aY,{className:"grid gap-4",children:[(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,o.jsx)("span",{className:"w-full border-t"})}),(0,o.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,o.jsx)("span",{className:"bg-background px-2 text-muted-foreground",children:"EMAILS"})})]}),(0,o.jsxs)("div",{className:"grid gap-2",children:[(0,o.jsx)("div",{children:"Invite 4 Friends"}),c.map((e,t)=>{function handleChange(e){let n=c.map((n,o)=>t===o?e.target.value:n);f(n)}return(0,o.jsx)(h.I,{value:e,onKeyDown:handleKeyDown,onChange:handleChange,id:"email",type:"email",placeholder:"m@example.com"},t)})]}),(0,o.jsxs)(a.z,{variant:"ghost",className:"w-fit mx-auto flex",onClick:()=>{f([...c,""])},children:[(0,o.jsx)(s.pOD,{className:"mr-2"}),"Add"]})]}),(0,o.jsx)(u.eW,{style:{display:"flex",flexDirection:"column",alignItems:"stretch"},children:(0,o.jsx)(a.z,{onClick:handleClickSendInvite,className:"w-full",children:"SEND INVITE"})})]})})})}function RoboCoder(e){let{session:t,from:n="header",className:d,...u}=e;if(window.location.href.includes("/screenshot")||window.location.href.includes("room"))return(0,o.jsx)(o.Fragment,{});(0,r.e)();let[h,m]=i.useState(!1),[f,p]=i.useState(!1),x=window.location.href.includes("?mobile=true"),w=window.location.href.includes("vscode=");return(0,i.useEffect)(()=>{var e;let t=localStorage.getItem("clicked_robocoder"),n=new URLSearchParams(null===(e=window.location)||void 0===e?void 0:e.search),o=n.get("paymentSuccess"),i=n.get("productName");t?(localStorage.removeItem("clicked_robocoder"),window.open("/apps")):"true"===o&&i===c.robocoder&&(localStorage.setItem("paymentSuccess","1"),window.location.href="https://www.robocoders.ai")},[]),(0,o.jsxs)(o.Fragment,{children:[(x||w)&&(0,o.jsx)(o.Fragment,{}),!x&&!w&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(a.z,{className:"mobile-sidenav-item-hide h-10 w-full justify-start px-4 shadow-none transition-colors md:flex",onClick:()=>{window.open("/apps")},variant:"outline",children:[h?(0,o.jsx)(l.tx,{}):(0,o.jsx)(s.dNJ,{}),(0,o.jsx)("span",{className:"ml-2 md:flex text-ellipsis whitespace-nowrap overflow-hidden",children:"Web VSCode"})]}),(0,o.jsx)(UpgradeOrInvite,{from:"robocoder",inviteDialog:f,setinviteDialog:p})]})]})}n(57944)},69313:function(e,t,n){n.r(t),n.d(t,{SidebarList:function(){return SidebarList}});var o=n(19745),i=n(49055),a=n(80833),l=n(51384),r=n(56831),s=n(20288),c=n(2062),d=n(15856),u=n(5217),h=n(10185),m=n(56472);function AboutButton(){if(window.location.href.includes("screenshot"))return(0,o.jsx)(o.Fragment,{});let e=(0,l.e)();return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(s.z,{onClick:()=>{(0,d.X)("Other Engagement",e,{tag:"click-sidenav-about"}),window.open("https://blog.blackbox.ai")},className:"h-10 mt-2 w-full justify-start px-4 shadow-none transition-colors md:flex",variant:"outline",children:[(0,o.jsx)(h.H4u,{}),(0,o.jsx)("span",{className:"ml-2 md:flex",children:"About"})]})})}function BlogsButton(e){let{position:t="header",text:n="",showNewChatIcon:i=!0,className:a,...r}=e,c=(0,l.e)();return(0,o.jsxs)(o.Fragment,{children:[!window.location.href.includes("vscode")&&(0,o.jsxs)(s.z,{onClick:()=>{(0,d.X)("Other Engagement",c,{tag:"click-docs"}),window.open("https://docs.blackbox.ai")},className:"h-10 w-full justify-start px-4 shadow-none transition-colors md:flex",variant:"outline",children:[(0,o.jsx)(h.nmT,{className:""}),(0,o.jsx)("span",{className:"ml-2 md:flex",children:"Docs"})]}),!window.location.href.includes("vscode")&&(0,o.jsxs)(s.z,{onClick:()=>{(0,d.X)("Other Engagement",c,{tag:"open-blogs-page"});let e=(0,u.DV)();window.open(e.gmailLink)},className:"h-10 mt-2 w-full justify-start px-4 shadow-none transition-colors md:flex",variant:"outline",children:[(0,o.jsx)(h.pjG,{strokeWidth:"1px",className:"pr-0"}),(0,o.jsx)("span",{className:"ml-2 md:flex",children:"Support"})]}),(0,o.jsx)(AboutButton,{})]})}var f=n(4005);function SidebarList(e){var t,n;let{userId:p}=e,x=(0,l.e)();p=x;let w=(0,a.useRef)(null),[g,v]=(0,a.useState)([]),[j,b]=(0,a.useState)([]),[k,N]=(0,a.useState)(!1),[y,S]=(0,a.useState)(!1),[C,I]=(0,a.useState)(!1),[T,A]=(0,a.useState)(!1),[E,z]=(0,a.useState)(!1),[O,F]=(0,a.useState)(!1),[D,B]=(0,a.useState)(0),loadChats=async()=>{if(window.isLoadding||window.location.href.includes("screenshot"))return;N(!0),window.isLoadding=!0;let e=await (0,i.zG)(p,D);b(null==e?void 0:e.filter(e=>e.room)),v([...g,...e=e.filter(e=>!e.room)]),(0==e.length||e.length<10)&&S(!0),N(!1),window.isLoadding=!1,B(D+e.length)};(0,a.useEffect)(()=>{C&&(v([]),B(0),S(!1),loadChats())},[C]),(0,a.useEffect)(()=>{T&&loadScreenshots()},[T]);let handleScroll=async e=>{if(y)return;let t=e.currentTarget;t&&!window.isLoadding&&t.scrollTop+t.clientHeight+50>=t.scrollHeight&&await loadChats()},getSectionHeader=e=>{let t=new Date;t.setHours(0,0,0,0);let n=new Date(t.getTime()-864e5),o=new Date(t.getTime()-6048e5),i=new Date(t.getTime()-2592e6);return e>=t?"Today":e>=n?"Yesterday":e>=o?"Last 7 Days":e>=i?"Last 30 Days":"Previous"},P=g.reduce((e,t)=>{let n=t.createdAt,o=getSectionHeader(n);return e[o]||(e[o]=[]),e[o].push(t),e},{}),[L,_]=(0,a.useState)([]),loadScreenshots=async()=>{if(!L.length){F(!0);let e=await (0,i.ox)(p);F(!1),_(e)}},[R,M]=(0,a.useState)([]),[U,X]=(0,a.useState)(!1),loadAllBots=async()=>{try{X(!0);let e=await fetch("/api/getuseragents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:p})}),t=await e.json();z(!0),M(t),X(!1)}catch(e){X(!1)}};return(0,o.jsxs)("div",{className:"ml-2 mr-2 flex flex-col flex-1 overflow-hidden",children:[(null===(t=window.location.href)||void 0===t?void 0:t.includes("/screenshot"))?(0,o.jsx)(o.Fragment,{}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(s.z,{onClick:()=>{(0,d.X)(u.uS.other,x,{tag:"click-view-history"}),I(!0)},className:"h-10 w-full justify-start px-4 shadow-none transition-colors md:flex",variant:"outline",children:[(0,o.jsx)(h.iZo,{className:"mr-2"}),(0,o.jsx)("span",{className:"md:flex",children:"History"})]}),(0,o.jsxs)(m.m5,{open:C,onOpenChange:I,children:[(0,o.jsx)(m.sZ,{placeholder:"Search chat history..."}),(0,o.jsxs)(m.e8,{ref:w,className:"custom-scrollbar h-[400px] overflow-y-auto",onScroll:handleScroll,children:[(0,o.jsx)(m.rb,{}),Object.keys(P).map((e,t)=>(0,o.jsx)(m.fu,{heading:e,children:P[e].map((e,t)=>{var n,i,a;return(0,o.jsx)(o.Fragment,{children:(null==e?void 0:e.id)&&(null==e?void 0:e.title)&&(0,o.jsx)(m.di,{className:"cursor-pointer",value:null==e?void 0:e.id,onSelect:()=>{var t,n;let o="/chat/".concat(null==e?void 0:e.id);(null===(t=window.location.href)||void 0===t?void 0:t.includes("mobile"))?window.location.href="".concat(o,"?mobile=true"):(null===(n=window.location.href)||void 0===n?void 0:n.includes("vscode"))?window.location.href="".concat(o,"?vscode=true"):window.open("/chat/".concat(null==e?void 0:e.id))},children:(0,o.jsxs)("div",{className:"flex items-center w-full",children:[(0,o.jsx)("span",{children:null==e?void 0:e.title}),((null==e?void 0:e.workspaceIds)||(null==e?void 0:e.numberOfFiles)||(null==e?void 0:null===(n=e.messages)||void 0===n?void 0:n.some(e=>{var t;return null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.imagesData})))&&(0,o.jsx)(c.Z,{size:8,strokeWidth:.75,className:"ml-2 text-muted-foreground"}),(null==e?void 0:e.agentMode)&&(null==e?void 0:null===(i=e.agentMode)||void 0===i?void 0:i.name)&&(0,o.jsx)(f.C,{className:"ml-4 text-xs text-zinc-600 dark:text-white",variant:"secondary",children:null==e?void 0:null===(a=e.agentMode)||void 0===a?void 0:a.name})]})},null==e?void 0:e.id)})})},t)),k&&(0,o.jsx)("div",{className:"flex flex-col flex-1 px-4 space-y-4 overflow-auto",children:Array.from({length:1}).map((e,t)=>(0,o.jsx)("div",{className:"w-full h-6 rounded-md shrink-0 animate-pulse bg-zinc-200 dark:bg-zinc-800"},t))})]})]})]}),(null===(n=window.location.href)||void 0===n?void 0:n.includes("/screenshot"))?(0,o.jsx)(o.Fragment,{}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(s.z,{onClick:()=>{(0,d.X)(u.uS.other,x,{tag:"click-view-agents"}),X(!0),loadAllBots(),z(!0)},className:"mobile-sidenav-item-hide h-10 w-full justify-start px-4 shadow-none transition-colors md:flex mt-2",variant:"outline",children:[U?(0,o.jsx)(r.tx,{}):(0,o.jsx)(h.uQz,{}),(0,o.jsx)("span",{className:"ml-2 md:flex",children:"Agents"})]}),(0,o.jsx)("div",{className:"mt-2",children:(0,o.jsx)(BlogsButton,{})}),(0,o.jsxs)(m.m5,{open:E,onOpenChange:z,children:[(0,o.jsx)(m.sZ,{placeholder:"Search agents..."}),(0,o.jsxs)(m.e8,{className:"custom-scrollbar h-[400px] overflow-y-auto",children:[(0,o.jsx)(m.rb,{children:"No agents found."}),U?(0,o.jsx)("div",{className:"flex flex-col flex-1 px-4 space-y-4 overflow-auto",children:Array.from({length:2}).map((e,t)=>(0,o.jsx)("div",{className:"w-full h-6 rounded-md shrink-0 animate-pulse bg-zinc-200 dark:bg-zinc-800"},t))}):(0,o.jsx)(m.fu,{heading:"",children:R.map(e=>e.name&&e.id&&(0,o.jsx)(m.di,{className:"cursor-pointer",onSelect:()=>{window.open("/agent/".concat(e.id))},children:(0,o.jsx)("span",{children:e.name})},e.id))})]})]})]}),window.location.href.includes("screenshot")&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(s.z,{onClick:()=>{(0,d.X)(u.uS.other,x,{tag:"click-view-screenshot-history"}),loadScreenshots(),A(!0)},className:"h-10 w-full justify-start px-4 shadow-none transition-colors md:flex",variant:"outline",children:[(0,o.jsx)(h.iZo,{className:"mr-2"}),(0,o.jsx)("span",{className:"md:flex",children:"History"})]}),(0,o.jsxs)(m.m5,{open:T,onOpenChange:A,children:[(0,o.jsx)(m.sZ,{placeholder:"Search apps history..."}),(0,o.jsx)(m.e8,{className:"custom-scrollbar h-[400px] overflow-y-auto",children:O?(0,o.jsx)("div",{className:"flex flex-col flex-1 px-4 space-y-4 overflow-auto",children:(0,o.jsx)("div",{className:"w-full h-6 rounded-md shrink-0 animate-pulse bg-zinc-200 dark:bg-zinc-800"})}):(0,o.jsx)(m.fu,{children:L&&(null==L?void 0:L.length)?L.map(e=>(0,o.jsx)(m.di,{className:"cursor-pointer",value:e.id,onSelect:()=>{window.open("/screenshot/".concat(e.id))},children:(0,o.jsx)("div",{className:"flex items-center w-full",children:(0,o.jsx)("span",{children:e.createdAt?new Date(Number(e.createdAt)).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):""})})},e.id)):(0,o.jsx)("div",{className:"p-8 text-center",children:(0,o.jsx)("p",{className:"text-sm text-muted-foreground",children:"No Apps history"})})})})]})]})]})}},45462:function(e,t,n){n.r(t),n.d(t,{SidebarMobile:function(){return SidebarMobile}});var o=n(19745),i=n(80833),a=n(39484),l=n(5217);let r=a.fC,s=a.xz;a.x8;let SheetPortal=e=>{let{children:t,...n}=e;return(0,o.jsx)(a.h_,{...n,children:t})};SheetPortal.displayName=a.h_.displayName;let c=i.forwardRef((e,t)=>{let{className:n,children:i,...r}=e;return(0,o.jsx)(a.aV,{className:(0,l.cn)("fixed inset-0 z-50 transition-all duration-100 data-[state=closed]:animate-out data-[state=closed]:fade-out data-[state=open]:fade-in",n),...r,ref:t})});c.displayName=a.aV.displayName;let d=i.forwardRef((e,t)=>{let{className:n,children:i,...r}=e;return(0,o.jsx)(SheetPortal,{children:(0,o.jsx)(a.VY,{ref:t,className:(0,l.cn)("fixed inset-y-0 left-0 z-50 h-full border-r bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left data-[state=closed]:duration-300 data-[state=open]:duration-500 sm:max-w-sm",n),...r,children:i})})});d.displayName=a.VY.displayName;let u=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,o.jsx)(a.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold text-foreground",n),...i})});u.displayName=a.Dx.displayName;let h=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,o.jsx)(a.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",n),...i})});h.displayName=a.dk.displayName;var m=n(94620),f=n(20288),p=n(56831);function SidebarMobile(e){let{children:t}=e,n=window.location.href.includes("chrome=true"),i=window.location.href.includes("vscode="),a=window.innerWidth<=568;return(0,o.jsx)(o.Fragment,{children:!n&&(0,o.jsxs)(r,{children:[(0,o.jsx)(s,{asChild:!0,children:(0,o.jsxs)(f.z,{variant:"ghost",className:"flex p-0 -ml-2 h-9 w-9 hide-on-mob",children:[i||a?(0,o.jsx)(p.Oq,{className:"w-4 h-4"}):(0,o.jsx)(p.Oq,{className:"w-6 h-6"}),(0,o.jsx)("span",{className:"sr-only",children:"Toggle Sidebar"})]})}),(0,o.jsx)(d,{className:"inset-y-0 flex h-auto w-[300px] flex-col p-0",children:(0,o.jsx)(m.Sidebar,{className:"flex",children:t})})]})})}},87909:function(e,t,n){n.r(t),n.d(t,{SidebarProjectButton:function(){return SidebarProjectButton}});var o=n(19745),i=n(80833),a=n(20288),l=n(51384),r=n(10185),s=n(3531),c=n(5217),d=n(51268),u=n(56472),h=n(18993),m=n(95203),f=n(49055),p=n(56831),x=n(15856);function SidebarProjectButton(e){let{position:t="header",text:n="",showNewChatIcon:w=!0,className:g,...v}=e,[j,b]=i.useState(""),[k,N]=i.useState(!1),[y,S]=i.useState(!1),[C,I]=i.useState([]),[T,A]=i.useState(!1);if(window.location.href.includes("screenshot"))return(0,o.jsx)(o.Fragment,{});let E=(0,l.e)(),{push:z}=(0,s.useRouter)(),callApiToCreateProject=async e=>{let t=await fetch("/api/create-project",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectName:e,userId:E,projectId:(0,c.k$)()})}),n=await t.json();return n},getAllProjects=async()=>{S(!0);let e=await (0,f.mW)(E);I(e),S(!1)};async function handleSubmitCreateProject(){(0,x.X)(c.uS.other,"",{tag:"create-project"}),S(!0);let e=await callApiToCreateProject(j);N(!1),S(!1),(null==e?void 0:e.projectId)&&window.open("/workspace/".concat(e.projectId,"?projectName=").concat(e.projectName))}return(0,o.jsxs)(o.Fragment,{children:[!window.location.href.includes("vscode")&&(0,o.jsx)(d.Vq,{open:k,onOpenChange:N,children:(0,o.jsxs)(d.cZ,{className:"sm:max-w-[425px]",children:[(0,o.jsx)(d.$N,{children:"Project"}),(0,o.jsx)(h.I,{placeholder:"Project Name",value:j,onChange:e=>b(e.target.value),className:"h-10",onKeyDown:e=>{"Enter"===e.key&&handleSubmitCreateProject()}}),(0,o.jsx)(d.cN,{children:(0,o.jsx)(a.z,{disabled:y,onClick:handleSubmitCreateProject,className:"mobile-sidenav-item-hide h-10 w-full justify-start px-4 shadow-none transition-colors md:flex justify-center",variant:"outline",children:y?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.tx,{}),(0,o.jsx)("span",{className:"ml-2 md:flex",children:"Creating"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m.Z,{className:"w-4 h-4"}),(0,o.jsx)("span",{className:"ml-2 md:flex",children:"Create Project"})]})})})]})}),(0,o.jsxs)(a.z,{className:"mobile-sidenav-item-hide h-10 w-full justify-start px-4 shadow-none transition-colors md:flex",variant:"outline",onClick:()=>{getAllProjects(),A(!0)},children:[(0,o.jsx)(r.zPP,{className:"w-4 h-4"}),(0,o.jsx)("span",{className:"ml-2 md:flex",children:"Projects"})]}),(0,o.jsxs)(u.m5,{open:T,onOpenChange:A,children:[(0,o.jsx)(u.sZ,{placeholder:"Search projects..."}),(0,o.jsxs)(u.e8,{className:"custom-scrollbar h-[400px] overflow-y-auto",children:[(0,o.jsx)(u.rb,{children:"No projects found."}),y?(0,o.jsx)("div",{className:"flex flex-col flex-1 px-4 space-y-4 overflow-auto",children:Array.from({length:1}).map((e,t)=>(0,o.jsx)("div",{className:"w-full mt-2 h-6 rounded-md shrink-0 animate-pulse bg-zinc-200 dark:bg-zinc-800"},t))}):(0,o.jsx)(u.fu,{heading:"",children:C.map(e=>(0,o.jsx)(u.di,{className:"cursor-pointer",onSelect:()=>{(0,x.X)(c.uS.other,"",{tag:"open-project"}),window.open("/workspace/".concat(e.id,"?projectName=").concat(e.name))},children:(0,o.jsx)("span",{children:e.name})},e.id))})]}),(0,o.jsx)("div",{className:"p-4 bg-white dark:bg-background",children:(0,o.jsx)(a.z,{variant:"outline",className:"w-full h-12 shadow-none",onClick:()=>{A(!1),N(!0)},children:"Create Project"})})]})]})}},93390:function(e,t,n){n.r(t),n.d(t,{SidebarToggle:function(){return SidebarToggle}});var o=n(19745);n(80833);var i=n(43349),a=n(20288),l=n(56831);function SidebarToggle(){let{toggleSidebar:e}=(0,i.A)();return window.location.href.includes("vscode="),(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(a.z,{variant:"ghost",className:"hidden p-0 -ml-2 h-9 w-9 mob-flex",onClick:()=>{let t=window.location.href.includes("playground");t?window.open("/"):e()},children:[(0,o.jsx)(l.Oq,{className:"w-6 h-6"}),(0,o.jsx)("span",{className:"sr-only",children:"Toggle Sidebar"})]})})}},94620:function(e,t,n){n.r(t),n.d(t,{Sidebar:function(){return Sidebar}});var o=n(19745);n(80833);var i=n(5217),a=n(43349);function Sidebar(e){let{children:t,className:n}=e,{isSidebarOpen:l,isLoading:r}=(0,a.A)();return(0,o.jsx)("div",{"data-state":l&&!r?"open":"closed",className:(0,i.cn)(n,"h-full flex-col"),children:t})}},87331:function(e,t,n){n.r(t),n.d(t,{DesktopDownload:function(){return DesktopDownload}});var o=n(19745);n(80833);var i=n(5217),a=n(20288),l=n(15856),r=n(51384),s=n(40292);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,s.Z)("MonitorDown",[["path",{d:"M12 13V7",key:"h0r20n"}],["path",{d:"m15 10-3 3-3-3",key:"lzhmyn"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]]);function DesktopDownload(){if(window.location.href.includes("screenshot"))return(0,o.jsx)(o.Fragment,{});let e=(0,r.e)();return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(a.z,{onClick:()=>{(0,l.X)("Other Engagement",e,{tag:"click-sidenav-desktop-download"}),window.open(i.ac)},className:"mobile-sidenav-item-hide h-10 w-full justify-start px-4 shadow-none transition-colors md:flex",variant:"outline",children:[(0,o.jsx)(c,{size:16,strokeWidth:.95}),(0,o.jsx)("span",{className:"ml-2 md:flex",children:"Mac Desktop App"})]})})}},16058:function(e,t,n){n.r(t),n.d(t,{ThemeToggle:function(){return ThemeToggle}});var o=n(19745),i=n(80833),a=n(24590),l=n(20288),r=n(56831);function ThemeToggle(){let{setTheme:e,theme:t}=(0,a.F)(),[n,s]=i.useTransition();return(0,o.jsxs)(l.z,{variant:"ghost",size:"icon",className:"z-50",onClick:()=>{s(()=>{e("light"===t?"dark":"light")})},children:[t?"dark"===t?(0,o.jsx)(r.C9,{className:"transition-all"}):(0,o.jsx)(r.O3,{className:"transition-all"}):null,(0,o.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}},87802:function(e,t,n){n.d(t,{J2:function(){return r},xo:function(){return s},yk:function(){return c}});var o=n(19745),i=n(80833),a=n(69623),l=n(5217);let r=a.fC,s=a.xz;a.ee;let c=i.forwardRef((e,t)=>{let{className:n,align:i="center",sideOffset:r=4,...s}=e;return(0,o.jsx)(a.h_,{children:(0,o.jsx)(a.VY,{ref:t,align:i,sideOffset:r,className:(0,l.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...s})})});c.displayName=a.VY.displayName},80187:function(e,t,n){n.d(t,{E:function(){return s},m:function(){return c}});var o=n(19745),i=n(80833),a=n(10185),l=n(26911),r=n(5217);let s=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,o.jsx)(l.fC,{className:(0,r.cn)("grid gap-2",n),...i,ref:t})});s.displayName=l.fC.displayName;let c=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,o.jsx)(l.ck,{ref:t,className:(0,r.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",n),...i,children:(0,o.jsx)(l.z$,{className:"flex items-center justify-center",children:(0,o.jsx)(a.nQG,{className:"h-3.5 w-3.5 fill-primary"})})})});c.displayName=l.ck.displayName},87327:function(e,t,n){n.d(t,{L:function(){return deleteAgent}});async function deleteAgent(e){try{return await fetch("/api/deleteagent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})}),[]}catch(e){return console.log("getAgent: ",e),[]}}},95128:function(e,t,n){n.d(t,{W:function(){return generateAgent}});var o=n(5217);async function tgthrNonStreamRequest(e,t){try{let n=await fetch("/api/improve-prompt",{method:"POST",body:JSON.stringify({messages:e,max_tokens:t,validated:o.fI})}),i=null==(n=await n.json())?void 0:n.prompt;if(i&&""!==i)return i;return null==e?void 0:e.at(-1).content}catch(t){return console.log("Error Tgthr",t),null==e?void 0:e.at(-1).content}}function sliceLastPeriod(e){let t=e.lastIndexOf(".");return -1===t?e:e.slice(0,t)}async function generateAgent(e,t){try{var n=new Headers;n.append("Authorization","Bearer ".concat("56c8eeff9971269d7a7e625ff88e8a83a34a556003a5c87c289ebe9a3d8a3d2c")),n.append("Content-Type","application/json");let o='You are an assistant specializing in generating system prompts for chatbots.  The prompt should be between 500 to 600 characters. The prompt should be detailed. The prompt should not include questions. You should always start your answer with "The Prompt: Your are "',i=128;"name"===t&&(o="your task is to take a prompt and generate a name based on the prompt.\n\nthe name of the prompt should be maximum 5 words. You should stop after generating the name.\n\nyou should always start with the following structure:\n\nName : ",i=20);let a=[{role:"system",content:o},{role:"user",content:e}],l=await tgthrNonStreamRequest(a,i),r="Prompt:";return"name"===t&&(r="Name : "),l.includes(r)&&(l=l.split(r)[1],"name"===t&&l.includes("\n\n")&&(l=l.split("\n\n")[0])),l=sliceLastPeriod(l)}catch(e){return console.log("Error:",e),""}}},266:function(e,t,n){n.d(t,{G:function(){return useBreakpoint},a:function(){return c}});var o=n(80833),i=n(28876),a=n.n(i),l=n(88488),r=n.n(l);let s=a()(r());function pxToNumber(e){return parseInt(e.replace("px",""))}let c={xs:.001,sm:pxToNumber(s.theme.screens.sm),md:pxToNumber(s.theme.screens.md),lg:pxToNumber(s.theme.screens.lg),xl:pxToNumber(s.theme.screens.xl),"2xl":pxToNumber(s.theme.screens["2xl"])},useBreakpoint=()=>{let[e,t]=(0,o.useState)(null);return(0,o.useEffect)(()=>{let e=Object.entries(c).sort((e,t)=>{let[,n]=e,[,o]=t;return n-o}),n=e.map(e=>{let[t,n]=e;return{key:t,size:n,mql:window.matchMedia("(min-width: ".concat(n,"px)"))}}),getActiveWidth=()=>{let e=[...n].reverse().find(e=>{let{mql:t}=e;return t.matches}),o=e?e.size:0;t(o)};return getActiveWidth(),n.forEach(e=>{let{mql:t}=e;t.addEventListener("change",getActiveWidth)}),()=>{n.forEach(e=>{let{mql:t}=e;t.removeEventListener("change",getActiveWidth)})}},[]),e}},24961:function(e,t,n){n.d(t,{Z:function(){return use_fcm_token}});var o=n(80833),i=n(34481),a=n(51893),l=n(48838);let r=(0,a.ZF)({apiKey:"AIzaSyDTxsBzN8HE4S4qX_xo_Bue07o3cBTdoSA",authDomain:"blackbox-6a4e3.firebaseapp.com",projectId:"blackbox-6a4e3",storageBucket:"blackbox-6a4e3.appspot.com",messagingSenderId:"90115057799",appId:"1:90115057799:web:3bd148181a0421988b3022",measurementId:"G-3EYV3XKBGK"});(0,l.ad)(r);let messaging=async()=>{let e=await (0,i.Gb)();return e?(0,i.KL)(r):null},fetchToken=async()=>{try{let e=await messaging();if(e){let t=await (0,i.LP)(e,{vapidKey:"BH0OulIf0ewxmCkM1aE2pv8kttheR46x8068h0jcadZjaBC3mTgCphA3bdPffWxrraQekTqv6zyC-PhsBT1fHVA"});return t}return null}catch(e){return console.error("An error occurred while fetching the token:",e),null}};var s=n(3531),c=n(85536),d=n(51384);async function getNotificationPermissionAndToken(){try{if(!("Notification"in window))return console.info("This browser does not support desktop notification"),null;if("granted"===Notification.permission)return await fetchToken();if("default"===Notification.permission){let e=await Notification.requestPermission();if("granted"===e)return await fetchToken()}return console.log("Notification permission not granted."),null}catch(e){return console.error("Error getting notification permission and token:",e),null}}var use_fcm_token=()=>{let e=(0,s.useRouter)(),[t,n]=(0,o.useState)(null),[a,l]=(0,o.useState)(null),r=(0,o.useRef)(0),u=(0,o.useRef)(!1),loadToken=async()=>{if(u.current)return;u.current=!0;let e=await getNotificationPermissionAndToken();if("denied"===Notification.permission){n("denied"),console.info("%cPush Notifications issue - permission denied","color: green; background: #c7c7c7; padding: 8px; font-size: 20px"),u.current=!1;return}if(!e&&"granted"===Notification.permission){if(r.current>=3){console.log("Unable to load token, refresh the browser"),console.info("%cPush Notifications issue - unable to load token after 3 retries","color: green; background: #c7c7c7; padding: 8px; font-size: 20px"),u.current=!1;return}r.current+=1,console.error("An error occurred while retrieving token. Retrying..."),u.current=!1,await loadToken();return}(0,d.e)(),n(Notification.permission),l(e),u.current=!1};return(0,s.usePathname)(),(0,o.useEffect)(()=>{let setupListener=async()=>{if(!a)return;let t=await messaging();if(!t)return;let n=(0,i.ps)(t,t=>{var n,o,i,a;if("granted"!==Notification.permission)return;let l=(null===(n=t.fcmOptions)||void 0===n?void 0:n.link)||(null===(o=t.data)||void 0===o?void 0:o.link);new Audio("/bell.mp3").play();let r=new Notification((null===(i=t.notification)||void 0===i?void 0:i.title)||"New message",{body:(null===(a=t.notification)||void 0===a?void 0:a.body)||"This is a new message",data:l?{url:l}:void 0});r.onclick=t=>{var n,o;t.preventDefault();let i=null===(o=t.target)||void 0===o?void 0:null===(n=o.data)||void 0===n?void 0:n.url;i?e.push(i):console.log("No link found in the notification payload")}});return n},t=null;return setupListener().then(e=>{e&&(t=e)}),()=>null==t?void 0:t()},[a,e,c.Am]),{token:a,notificationPermissionStatus:t,loadToken}}},42730:function(e,t,n){n.d(t,{i:function(){return useGlobalLocalStorage}});var o=n(48506),i=n(80833);let useGlobalLocalStorage=(e,t,n)=>{let{listen:a=!0}=n||{},{getItem:l,setItem:r,removeItem:s,storageVersion:c}=(0,o._)(),[d,u]=(0,i.useState)(()=>{let n=l(e);return n?JSON.parse(n):t});return(0,i.useEffect)(()=>{if(!a)return;let n=l(e);null!==n?u(JSON.parse(n)):u(t)},[l,e,c,t,a]),[d,t=>{try{let n=t instanceof Function?t(d):t;u(n),r(e,JSON.stringify(n))}catch(e){console.error("Error setting localStorage value",e)}},()=>{s(e),u(t)}]}},65249:function(e,t,n){n.d(t,{v:function(){return useSubscriptionCheck}});var o=n(42730);function useSubscriptionCheck(){let[e,t]=(0,o.i)("subscription-cache",null);return{checkSubscription:async function(n){try{if(!n)return{status:"FREE",customerId:null,isTrialSubscription:!1};let o=Date.now();if(e){let t=o-e.lastChecked<864e5;if("PREMIUM"!==e.status&&t)return{status:e.status,customerId:e.customerId,isTrialSubscription:e.isTrialSubscription||!1};if("PREMIUM"===e.status){let n=e.expiryTimestamp&&1e3*e.expiryTimestamp>o;if(t&&n)return{status:e.status,customerId:e.customerId,isTrialSubscription:e.isTrialSubscription||!1}}}let i=await fetch("/api/check-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})}),a=await i.json(),l=a.hasActiveSubscription?"PREMIUM":"FREE",r={status:l,customerId:null==a?void 0:a.customerId,expiryTimestamp:a.expiryTimestamp||null,lastChecked:o,isTrialSubscription:a.isTrialSubscription||!1};return t(r),{status:l,customerId:null==a?void 0:a.customerId,isTrialSubscription:a.isTrialSubscription||!1}}catch(e){return console.error("Error checking subscription:",e),{status:"FREE",customerId:null,isTrialSubscription:!1}}},subscriptionCache:e,updateSubscriptionCache:(e,n)=>{if(!e)return;let o=Date.now(),i={status:n.status,customerId:n.customerId,expiryTimestamp:n.expiryTimestamp,lastChecked:o,isTrialSubscription:n.isTrialSubscription||!1};t(i)},invalidateSubscriptionCache:()=>{t(null)}}}},50654:function(e,t,n){n.d(t,{O:function(){return createVSCode}});var o=n(57944),i=n(51384);async function createVSCode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"vscode",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;try{var l;let r=new Headers;r.append("Content-Type","application/json");let s=(0,i.e)(),c=localStorage.getItem("vscodeserver:".concat(s)),d=JSON.stringify({type:e,userVsCodeStr:c,device:(null===(l=window)||void 0===l?void 0:l.innerWidth)<500?"mobile":"desktop",prompt:t||"",shareSandbox:n||!1,customerId:a}),u=await fetch("/api/create-vscode",{method:"POST",headers:r,body:d,redirect:"follow"}),h=await u.json();if(null==h||!h.url)return{status:"fail"};{let e={[h.name]:{id:h.name,createdAt:h.createdAt,url:h.url,name:h.name},id:h.id};return(0,o.saveWebVSCodes)(e,h.name),{status:"success",url:h.url}}}catch(e){return console.log("error",e),{status:"fail"}}}},88488:function(e,t,n){let{fontFamily:o}=n(17042);e.exports={darkMode:["class"],content:["app/**/*.{ts,tsx}","components/**/*.{ts,tsx}","./src-screenshot/**/*.{ts,tsx}"],theme:{screens:{"mini-sm":"380px",sm:"640px",md:"768px",lg:"1024px",xl:"1280px",xlmin:"1370px",xlcustom:"1440px","2xl":"1536px"},container:{center:!0,padding:"2rem",screens:{"2xl":"1400px"}},extend:{fontFamily:{sans:["var(--font-sans)",...o.sans]},colors:{bgDarkMain:"#1F2023",textGithubGrayDark:"#f0f6fc",bgDarkSidebar:"#2D2F34",bgDarkSidebarHover:"#2D2F34",bgDarkSecondary:"#27292D",bgDarkSecondaryContrast:"rgb(103, 103, 103)",border:"hsl(var(--border))",input:"hsl(var(--input))",ring:"hsl(var(--ring))",background:"hsl(var(--background))",foreground:"hsl(var(--foreground))",primary:{DEFAULT:"hsl(var(--primary))",foreground:"hsl(var(--primary-foreground))"},secondary:{DEFAULT:"hsl(var(--secondary))",foreground:"hsl(var(--secondary-foreground))"},destructive:{DEFAULT:"hsl(var(--destructive))",foreground:"hsl(var(--destructive-foreground))"},muted:{DEFAULT:"hsl(var(--muted))",foreground:"hsl(var(--muted-foreground))"},accent:{DEFAULT:"hsl(var(--accent))",foreground:"hsl(var(--accent-foreground))"},popover:{DEFAULT:"hsl(var(--popover))",foreground:"hsl(var(--popover-foreground))"},card:{DEFAULT:"hsl(var(--card))",foreground:"hsl(var(--card-foreground))"}},borderRadius:{lg:"var(--radius)",md:"calc(var(--radius) - 2px)",sm:"calc(var(--radius) - 4px)"},keyframes:{"accordion-down":{from:{height:0},to:{height:"var(--radix-accordion-content-height)"}},"accordion-up":{from:{height:"var(--radix-accordion-content-height)"},to:{height:0}},"slide-from-left":{"0%":{transform:"translateX(-100%)"},"100%":{transform:"translateX(0)"}},"slide-to-left":{"0%":{transform:"translateX(0)"},"100%":{transform:"translateX(-100%)"}}},animation:{"slide-from-left":"slide-from-left 0.3s cubic-bezier(0.82, 0.085, 0.395, 0.895)","slide-to-left":"slide-to-left 0.25s cubic-bezier(0.82, 0.085, 0.395, 0.895)","accordion-down":"accordion-down 0.2s ease-out","accordion-up":"accordion-up 0.2s ease-out"}}},plugins:[n(56814),n(44867)]}}}]);